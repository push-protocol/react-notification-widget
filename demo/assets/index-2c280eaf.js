import{e as Fu,r as sh,c as G,g as fn,i as oh,j as ah,B as q,k as uh,l as Wu,u as ch,t as ko,a as lh}from"./index-08116de4.js";function hh(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Io={},Un={},$i={};Object.defineProperty($i,"__esModule",{value:!0});$i.walletLogo=void 0;const fh=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};$i.walletLogo=fh;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.ScopedLocalStorage=void 0;class dh{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Hi.ScopedLocalStorage=dh;var Jr={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});const ph=Fu;function ma(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function gh(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let vh=class extends ph.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const u=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw u.context=o,u}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")ma(s,this,r);else{const o=s.length,u=gh(s);for(let h=0;h<o;h+=1)ma(u[h],this,r)}return!0}};dn.default=vh;var Xr={},bh={get exports(){return Xr},set exports(t){Xr=t}};(function(t){(function(e,r){function n(y,a){if(!y)throw new Error(a||"Assertion failed")}function i(y,a){y.super_=a;var l=function(){};l.prototype=a.prototype,y.prototype=new l,y.prototype.constructor=y}function s(y,a,l){if(s.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((a==="le"||a==="be")&&(l=a,a=10),this._init(y||0,a||10,l||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=sh().Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,l){return a.cmp(l)>0?a:l},s.min=function(a,l){return a.cmp(l)<0?a:l},s.prototype._init=function(a,l,p){if(typeof a=="number")return this._initNumber(a,l,p);if(typeof a=="object")return this._initArray(a,l,p);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),a=a.toString().replace(/\s+/g,"");var v=0;a[0]==="-"&&(v++,this.negative=1),v<a.length&&(l===16?this._parseHex(a,v,p):(this._parseBase(a,l,v),p==="le"&&this._initArray(this.toArray(),l,p)))},s.prototype._initNumber=function(a,l,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),l,p)},s.prototype._initArray=function(a,l,p){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w,_,M=0;if(p==="be")for(v=a.length-1,w=0;v>=0;v-=3)_=a[v]|a[v-1]<<8|a[v-2]<<16,this.words[w]|=_<<M&67108863,this.words[w+1]=_>>>26-M&67108863,M+=24,M>=26&&(M-=26,w++);else if(p==="le")for(v=0,w=0;v<a.length;v+=3)_=a[v]|a[v+1]<<8|a[v+2]<<16,this.words[w]|=_<<M&67108863,this.words[w+1]=_>>>26-M&67108863,M+=24,M>=26&&(M-=26,w++);return this._strip()};function u(y,a){var l=y.charCodeAt(a);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;n(!1,"Invalid character in "+y)}function h(y,a,l){var p=u(y,l);return l-1>=a&&(p|=u(y,l-1)<<4),p}s.prototype._parseHex=function(a,l,p){this.length=Math.ceil((a.length-l)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var w=0,_=0,M;if(p==="be")for(v=a.length-1;v>=l;v-=2)M=h(a,l,v)<<w,this.words[_]|=M&67108863,w>=18?(w-=18,_+=1,this.words[_]|=M>>>26):w+=8;else{var g=a.length-l;for(v=g%2===0?l+1:l;v<a.length;v+=2)M=h(a,l,v)<<w,this.words[_]|=M&67108863,w>=18?(w-=18,_+=1,this.words[_]|=M>>>26):w+=8}this._strip()};function f(y,a,l,p){for(var v=0,w=0,_=Math.min(y.length,l),M=a;M<_;M++){var g=y.charCodeAt(M)-48;v*=p,g>=49?w=g-49+10:g>=17?w=g-17+10:w=g,n(g>=0&&w<p,"Invalid character"),v+=w}return v}s.prototype._parseBase=function(a,l,p){this.words=[0],this.length=1;for(var v=0,w=1;w<=67108863;w*=l)v++;v--,w=w/l|0;for(var _=a.length-p,M=_%v,g=Math.min(_,_-M)+p,c=0,m=p;m<g;m+=v)c=f(a,m,m+v,l),this.imuln(w),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(M!==0){var B=1;for(c=f(a,m,a.length,l),m=0;m<M;m++)B*=l;this.imuln(B),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var l=0;l<this.length;l++)a.words[l]=this.words[l];a.length=this.length,a.negative=this.negative,a.red=this.red};function d(y,a){y.words=a.words,y.length=a.length,y.negative=a.negative,y.red=a.red}if(s.prototype._move=function(a){d(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{s.prototype.inspect=S}else s.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,l){a=a||10,l=l|0||1;var p;if(a===16||a==="hex"){p="";for(var v=0,w=0,_=0;_<this.length;_++){var M=this.words[_],g=((M<<v|w)&16777215).toString(16);w=M>>>24-v&16777215,v+=2,v>=26&&(v-=26,_--),w!==0||_!==this.length-1?p=b[6-g.length]+g+p:p=g+p}for(w!==0&&(p=w.toString(16)+p);p.length%l!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var c=E[a],m=x[a];p="";var B=this.clone();for(B.negative=0;!B.isZero();){var P=B.modrn(m).toString(a);B=B.idivn(m),B.isZero()?p=P+p:p=b[c-P.length]+P+p}for(this.isZero()&&(p="0"+p);p.length%l!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(a,l){return this.toArrayLike(o,a,l)}),s.prototype.toArray=function(a,l){return this.toArrayLike(Array,a,l)};var N=function(a,l){return a.allocUnsafe?a.allocUnsafe(l):new a(l)};s.prototype.toArrayLike=function(a,l,p){this._strip();var v=this.byteLength(),w=p||Math.max(1,v);n(v<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0");var _=N(a,w),M=l==="le"?"LE":"BE";return this["_toArrayLike"+M](_,v),_},s.prototype._toArrayLikeLE=function(a,l){for(var p=0,v=0,w=0,_=0;w<this.length;w++){var M=this.words[w]<<_|v;a[p++]=M&255,p<a.length&&(a[p++]=M>>8&255),p<a.length&&(a[p++]=M>>16&255),_===6?(p<a.length&&(a[p++]=M>>24&255),v=0,_=0):(v=M>>>24,_+=2)}if(p<a.length)for(a[p++]=v;p<a.length;)a[p++]=0},s.prototype._toArrayLikeBE=function(a,l){for(var p=a.length-1,v=0,w=0,_=0;w<this.length;w++){var M=this.words[w]<<_|v;a[p--]=M&255,p>=0&&(a[p--]=M>>8&255),p>=0&&(a[p--]=M>>16&255),_===6?(p>=0&&(a[p--]=M>>24&255),v=0,_=0):(v=M>>>24,_+=2)}if(p>=0)for(a[p--]=v;p>=0;)a[p--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var l=a,p=0;return l>=4096&&(p+=13,l>>>=13),l>=64&&(p+=7,l>>>=7),l>=8&&(p+=4,l>>>=4),l>=2&&(p+=2,l>>>=2),p+l},s.prototype._zeroBits=function(a){if(a===0)return 26;var l=a,p=0;return l&8191||(p+=13,l>>>=13),l&127||(p+=7,l>>>=7),l&15||(p+=4,l>>>=4),l&3||(p+=2,l>>>=2),l&1||p++,p},s.prototype.bitLength=function(){var a=this.words[this.length-1],l=this._countBits(a);return(this.length-1)*26+l};function R(y){for(var a=new Array(y.bitLength()),l=0;l<a.length;l++){var p=l/26|0,v=l%26;a[l]=y.words[p]>>>v&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,l=0;l<this.length;l++){var p=this._zeroBits(this.words[l]);if(a+=p,p!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var l=0;l<a.length;l++)this.words[l]=this.words[l]|a.words[l];return this._strip()},s.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var l;this.length>a.length?l=a:l=this;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=l.length,this._strip()},s.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var l,p;this.length>a.length?(l=this,p=a):(l=a,p=this);for(var v=0;v<p.length;v++)this.words[v]=l.words[v]^p.words[v];if(this!==l)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=l.length,this._strip()},s.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var l=Math.ceil(a/26)|0,p=a%26;this._expand(l),p>0&&l--;for(var v=0;v<l;v++)this.words[v]=~this.words[v]&67108863;return p>0&&(this.words[v]=~this.words[v]&67108863>>26-p),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,l){n(typeof a=="number"&&a>=0);var p=a/26|0,v=a%26;return this._expand(p+1),l?this.words[p]=this.words[p]|1<<v:this.words[p]=this.words[p]&~(1<<v),this._strip()},s.prototype.iadd=function(a){var l;if(this.negative!==0&&a.negative===0)return this.negative=0,l=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,l=this.isub(a),a.negative=1,l._normSign();var p,v;this.length>a.length?(p=this,v=a):(p=a,v=this);for(var w=0,_=0;_<v.length;_++)l=(p.words[_]|0)+(v.words[_]|0)+w,this.words[_]=l&67108863,w=l>>>26;for(;w!==0&&_<p.length;_++)l=(p.words[_]|0)+w,this.words[_]=l&67108863,w=l>>>26;if(this.length=p.length,w!==0)this.words[this.length]=w,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(a){var l;return a.negative!==0&&this.negative===0?(a.negative=0,l=this.sub(a),a.negative^=1,l):a.negative===0&&this.negative!==0?(this.negative=0,l=a.sub(this),this.negative=1,l):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var l=this.iadd(a);return a.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,w;p>0?(v=this,w=a):(v=a,w=this);for(var _=0,M=0;M<w.length;M++)l=(v.words[M]|0)-(w.words[M]|0)+_,_=l>>26,this.words[M]=l&67108863;for(;_!==0&&M<v.length;M++)l=(v.words[M]|0)+_,_=l>>26,this.words[M]=l&67108863;if(_===0&&M<v.length&&v!==this)for(;M<v.length;M++)this.words[M]=v.words[M];return this.length=Math.max(this.length,M),v!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function k(y,a,l){l.negative=a.negative^y.negative;var p=y.length+a.length|0;l.length=p,p=p-1|0;var v=y.words[0]|0,w=a.words[0]|0,_=v*w,M=_&67108863,g=_/67108864|0;l.words[0]=M;for(var c=1;c<p;c++){for(var m=g>>>26,B=g&67108863,P=Math.min(c,a.length-1),F=Math.max(0,c-y.length+1);F<=P;F++){var Qe=c-F|0;v=y.words[Qe]|0,w=a.words[F]|0,_=v*w+B,m+=_/67108864|0,B=_&67108863}l.words[c]=B|0,g=m|0}return g!==0?l.words[c]=g|0:l.length--,l._strip()}var A=function(a,l,p){var v=a.words,w=l.words,_=p.words,M=0,g,c,m,B=v[0]|0,P=B&8191,F=B>>>13,Qe=v[1]|0,X=Qe&8191,ee=Qe>>>13,Mn=v[2]|0,Ie=Mn&8191,Ae=Mn>>>13,xn=v[3]|0,Re=xn&8191,Ne=xn>>>13,Cn=v[4]|0,Te=Cn&8191,Oe=Cn>>>13,kn=v[5]|0,Le=kn&8191,De=kn>>>13,In=v[6]|0,Pe=In&8191,je=In>>>13,An=v[7]|0,Be=An&8191,Fe=An>>>13,Tr=v[8]|0,te=Tr&8191,re=Tr>>>13,Or=v[9]|0,ne=Or&8191,ie=Or>>>13,Lr=w[0]|0,se=Lr&8191,oe=Lr>>>13,Dr=w[1]|0,ae=Dr&8191,ue=Dr>>>13,Pr=w[2]|0,ce=Pr&8191,le=Pr>>>13,jr=w[3]|0,he=jr&8191,fe=jr>>>13,Br=w[4]|0,de=Br&8191,pe=Br>>>13,Fr=w[5]|0,ge=Fr&8191,ve=Fr>>>13,Wr=w[6]|0,be=Wr&8191,me=Wr>>>13,$r=w[7]|0,ye=$r&8191,we=$r>>>13,Hr=w[8]|0,_e=Hr&8191,Se=Hr>>>13,zr=w[9]|0,Ee=zr&8191,Me=zr>>>13;p.negative=a.negative^l.negative,p.length=19,g=Math.imul(P,se),c=Math.imul(P,oe),c=c+Math.imul(F,se)|0,m=Math.imul(F,oe);var sr=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(sr>>>26)|0,sr&=67108863,g=Math.imul(X,se),c=Math.imul(X,oe),c=c+Math.imul(ee,se)|0,m=Math.imul(ee,oe),g=g+Math.imul(P,ae)|0,c=c+Math.imul(P,ue)|0,c=c+Math.imul(F,ae)|0,m=m+Math.imul(F,ue)|0;var or=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(or>>>26)|0,or&=67108863,g=Math.imul(Ie,se),c=Math.imul(Ie,oe),c=c+Math.imul(Ae,se)|0,m=Math.imul(Ae,oe),g=g+Math.imul(X,ae)|0,c=c+Math.imul(X,ue)|0,c=c+Math.imul(ee,ae)|0,m=m+Math.imul(ee,ue)|0,g=g+Math.imul(P,ce)|0,c=c+Math.imul(P,le)|0,c=c+Math.imul(F,ce)|0,m=m+Math.imul(F,le)|0;var ar=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(ar>>>26)|0,ar&=67108863,g=Math.imul(Re,se),c=Math.imul(Re,oe),c=c+Math.imul(Ne,se)|0,m=Math.imul(Ne,oe),g=g+Math.imul(Ie,ae)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(Ae,ae)|0,m=m+Math.imul(Ae,ue)|0,g=g+Math.imul(X,ce)|0,c=c+Math.imul(X,le)|0,c=c+Math.imul(ee,ce)|0,m=m+Math.imul(ee,le)|0,g=g+Math.imul(P,he)|0,c=c+Math.imul(P,fe)|0,c=c+Math.imul(F,he)|0,m=m+Math.imul(F,fe)|0;var ur=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(ur>>>26)|0,ur&=67108863,g=Math.imul(Te,se),c=Math.imul(Te,oe),c=c+Math.imul(Oe,se)|0,m=Math.imul(Oe,oe),g=g+Math.imul(Re,ae)|0,c=c+Math.imul(Re,ue)|0,c=c+Math.imul(Ne,ae)|0,m=m+Math.imul(Ne,ue)|0,g=g+Math.imul(Ie,ce)|0,c=c+Math.imul(Ie,le)|0,c=c+Math.imul(Ae,ce)|0,m=m+Math.imul(Ae,le)|0,g=g+Math.imul(X,he)|0,c=c+Math.imul(X,fe)|0,c=c+Math.imul(ee,he)|0,m=m+Math.imul(ee,fe)|0,g=g+Math.imul(P,de)|0,c=c+Math.imul(P,pe)|0,c=c+Math.imul(F,de)|0,m=m+Math.imul(F,pe)|0;var cr=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(cr>>>26)|0,cr&=67108863,g=Math.imul(Le,se),c=Math.imul(Le,oe),c=c+Math.imul(De,se)|0,m=Math.imul(De,oe),g=g+Math.imul(Te,ae)|0,c=c+Math.imul(Te,ue)|0,c=c+Math.imul(Oe,ae)|0,m=m+Math.imul(Oe,ue)|0,g=g+Math.imul(Re,ce)|0,c=c+Math.imul(Re,le)|0,c=c+Math.imul(Ne,ce)|0,m=m+Math.imul(Ne,le)|0,g=g+Math.imul(Ie,he)|0,c=c+Math.imul(Ie,fe)|0,c=c+Math.imul(Ae,he)|0,m=m+Math.imul(Ae,fe)|0,g=g+Math.imul(X,de)|0,c=c+Math.imul(X,pe)|0,c=c+Math.imul(ee,de)|0,m=m+Math.imul(ee,pe)|0,g=g+Math.imul(P,ge)|0,c=c+Math.imul(P,ve)|0,c=c+Math.imul(F,ge)|0,m=m+Math.imul(F,ve)|0;var lr=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(lr>>>26)|0,lr&=67108863,g=Math.imul(Pe,se),c=Math.imul(Pe,oe),c=c+Math.imul(je,se)|0,m=Math.imul(je,oe),g=g+Math.imul(Le,ae)|0,c=c+Math.imul(Le,ue)|0,c=c+Math.imul(De,ae)|0,m=m+Math.imul(De,ue)|0,g=g+Math.imul(Te,ce)|0,c=c+Math.imul(Te,le)|0,c=c+Math.imul(Oe,ce)|0,m=m+Math.imul(Oe,le)|0,g=g+Math.imul(Re,he)|0,c=c+Math.imul(Re,fe)|0,c=c+Math.imul(Ne,he)|0,m=m+Math.imul(Ne,fe)|0,g=g+Math.imul(Ie,de)|0,c=c+Math.imul(Ie,pe)|0,c=c+Math.imul(Ae,de)|0,m=m+Math.imul(Ae,pe)|0,g=g+Math.imul(X,ge)|0,c=c+Math.imul(X,ve)|0,c=c+Math.imul(ee,ge)|0,m=m+Math.imul(ee,ve)|0,g=g+Math.imul(P,be)|0,c=c+Math.imul(P,me)|0,c=c+Math.imul(F,be)|0,m=m+Math.imul(F,me)|0;var hr=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,g=Math.imul(Be,se),c=Math.imul(Be,oe),c=c+Math.imul(Fe,se)|0,m=Math.imul(Fe,oe),g=g+Math.imul(Pe,ae)|0,c=c+Math.imul(Pe,ue)|0,c=c+Math.imul(je,ae)|0,m=m+Math.imul(je,ue)|0,g=g+Math.imul(Le,ce)|0,c=c+Math.imul(Le,le)|0,c=c+Math.imul(De,ce)|0,m=m+Math.imul(De,le)|0,g=g+Math.imul(Te,he)|0,c=c+Math.imul(Te,fe)|0,c=c+Math.imul(Oe,he)|0,m=m+Math.imul(Oe,fe)|0,g=g+Math.imul(Re,de)|0,c=c+Math.imul(Re,pe)|0,c=c+Math.imul(Ne,de)|0,m=m+Math.imul(Ne,pe)|0,g=g+Math.imul(Ie,ge)|0,c=c+Math.imul(Ie,ve)|0,c=c+Math.imul(Ae,ge)|0,m=m+Math.imul(Ae,ve)|0,g=g+Math.imul(X,be)|0,c=c+Math.imul(X,me)|0,c=c+Math.imul(ee,be)|0,m=m+Math.imul(ee,me)|0,g=g+Math.imul(P,ye)|0,c=c+Math.imul(P,we)|0,c=c+Math.imul(F,ye)|0,m=m+Math.imul(F,we)|0;var fr=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,g=Math.imul(te,se),c=Math.imul(te,oe),c=c+Math.imul(re,se)|0,m=Math.imul(re,oe),g=g+Math.imul(Be,ae)|0,c=c+Math.imul(Be,ue)|0,c=c+Math.imul(Fe,ae)|0,m=m+Math.imul(Fe,ue)|0,g=g+Math.imul(Pe,ce)|0,c=c+Math.imul(Pe,le)|0,c=c+Math.imul(je,ce)|0,m=m+Math.imul(je,le)|0,g=g+Math.imul(Le,he)|0,c=c+Math.imul(Le,fe)|0,c=c+Math.imul(De,he)|0,m=m+Math.imul(De,fe)|0,g=g+Math.imul(Te,de)|0,c=c+Math.imul(Te,pe)|0,c=c+Math.imul(Oe,de)|0,m=m+Math.imul(Oe,pe)|0,g=g+Math.imul(Re,ge)|0,c=c+Math.imul(Re,ve)|0,c=c+Math.imul(Ne,ge)|0,m=m+Math.imul(Ne,ve)|0,g=g+Math.imul(Ie,be)|0,c=c+Math.imul(Ie,me)|0,c=c+Math.imul(Ae,be)|0,m=m+Math.imul(Ae,me)|0,g=g+Math.imul(X,ye)|0,c=c+Math.imul(X,we)|0,c=c+Math.imul(ee,ye)|0,m=m+Math.imul(ee,we)|0,g=g+Math.imul(P,_e)|0,c=c+Math.imul(P,Se)|0,c=c+Math.imul(F,_e)|0,m=m+Math.imul(F,Se)|0;var dr=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(dr>>>26)|0,dr&=67108863,g=Math.imul(ne,se),c=Math.imul(ne,oe),c=c+Math.imul(ie,se)|0,m=Math.imul(ie,oe),g=g+Math.imul(te,ae)|0,c=c+Math.imul(te,ue)|0,c=c+Math.imul(re,ae)|0,m=m+Math.imul(re,ue)|0,g=g+Math.imul(Be,ce)|0,c=c+Math.imul(Be,le)|0,c=c+Math.imul(Fe,ce)|0,m=m+Math.imul(Fe,le)|0,g=g+Math.imul(Pe,he)|0,c=c+Math.imul(Pe,fe)|0,c=c+Math.imul(je,he)|0,m=m+Math.imul(je,fe)|0,g=g+Math.imul(Le,de)|0,c=c+Math.imul(Le,pe)|0,c=c+Math.imul(De,de)|0,m=m+Math.imul(De,pe)|0,g=g+Math.imul(Te,ge)|0,c=c+Math.imul(Te,ve)|0,c=c+Math.imul(Oe,ge)|0,m=m+Math.imul(Oe,ve)|0,g=g+Math.imul(Re,be)|0,c=c+Math.imul(Re,me)|0,c=c+Math.imul(Ne,be)|0,m=m+Math.imul(Ne,me)|0,g=g+Math.imul(Ie,ye)|0,c=c+Math.imul(Ie,we)|0,c=c+Math.imul(Ae,ye)|0,m=m+Math.imul(Ae,we)|0,g=g+Math.imul(X,_e)|0,c=c+Math.imul(X,Se)|0,c=c+Math.imul(ee,_e)|0,m=m+Math.imul(ee,Se)|0,g=g+Math.imul(P,Ee)|0,c=c+Math.imul(P,Me)|0,c=c+Math.imul(F,Ee)|0,m=m+Math.imul(F,Me)|0;var pr=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,g=Math.imul(ne,ae),c=Math.imul(ne,ue),c=c+Math.imul(ie,ae)|0,m=Math.imul(ie,ue),g=g+Math.imul(te,ce)|0,c=c+Math.imul(te,le)|0,c=c+Math.imul(re,ce)|0,m=m+Math.imul(re,le)|0,g=g+Math.imul(Be,he)|0,c=c+Math.imul(Be,fe)|0,c=c+Math.imul(Fe,he)|0,m=m+Math.imul(Fe,fe)|0,g=g+Math.imul(Pe,de)|0,c=c+Math.imul(Pe,pe)|0,c=c+Math.imul(je,de)|0,m=m+Math.imul(je,pe)|0,g=g+Math.imul(Le,ge)|0,c=c+Math.imul(Le,ve)|0,c=c+Math.imul(De,ge)|0,m=m+Math.imul(De,ve)|0,g=g+Math.imul(Te,be)|0,c=c+Math.imul(Te,me)|0,c=c+Math.imul(Oe,be)|0,m=m+Math.imul(Oe,me)|0,g=g+Math.imul(Re,ye)|0,c=c+Math.imul(Re,we)|0,c=c+Math.imul(Ne,ye)|0,m=m+Math.imul(Ne,we)|0,g=g+Math.imul(Ie,_e)|0,c=c+Math.imul(Ie,Se)|0,c=c+Math.imul(Ae,_e)|0,m=m+Math.imul(Ae,Se)|0,g=g+Math.imul(X,Ee)|0,c=c+Math.imul(X,Me)|0,c=c+Math.imul(ee,Ee)|0,m=m+Math.imul(ee,Me)|0;var gr=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(gr>>>26)|0,gr&=67108863,g=Math.imul(ne,ce),c=Math.imul(ne,le),c=c+Math.imul(ie,ce)|0,m=Math.imul(ie,le),g=g+Math.imul(te,he)|0,c=c+Math.imul(te,fe)|0,c=c+Math.imul(re,he)|0,m=m+Math.imul(re,fe)|0,g=g+Math.imul(Be,de)|0,c=c+Math.imul(Be,pe)|0,c=c+Math.imul(Fe,de)|0,m=m+Math.imul(Fe,pe)|0,g=g+Math.imul(Pe,ge)|0,c=c+Math.imul(Pe,ve)|0,c=c+Math.imul(je,ge)|0,m=m+Math.imul(je,ve)|0,g=g+Math.imul(Le,be)|0,c=c+Math.imul(Le,me)|0,c=c+Math.imul(De,be)|0,m=m+Math.imul(De,me)|0,g=g+Math.imul(Te,ye)|0,c=c+Math.imul(Te,we)|0,c=c+Math.imul(Oe,ye)|0,m=m+Math.imul(Oe,we)|0,g=g+Math.imul(Re,_e)|0,c=c+Math.imul(Re,Se)|0,c=c+Math.imul(Ne,_e)|0,m=m+Math.imul(Ne,Se)|0,g=g+Math.imul(Ie,Ee)|0,c=c+Math.imul(Ie,Me)|0,c=c+Math.imul(Ae,Ee)|0,m=m+Math.imul(Ae,Me)|0;var vr=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(vr>>>26)|0,vr&=67108863,g=Math.imul(ne,he),c=Math.imul(ne,fe),c=c+Math.imul(ie,he)|0,m=Math.imul(ie,fe),g=g+Math.imul(te,de)|0,c=c+Math.imul(te,pe)|0,c=c+Math.imul(re,de)|0,m=m+Math.imul(re,pe)|0,g=g+Math.imul(Be,ge)|0,c=c+Math.imul(Be,ve)|0,c=c+Math.imul(Fe,ge)|0,m=m+Math.imul(Fe,ve)|0,g=g+Math.imul(Pe,be)|0,c=c+Math.imul(Pe,me)|0,c=c+Math.imul(je,be)|0,m=m+Math.imul(je,me)|0,g=g+Math.imul(Le,ye)|0,c=c+Math.imul(Le,we)|0,c=c+Math.imul(De,ye)|0,m=m+Math.imul(De,we)|0,g=g+Math.imul(Te,_e)|0,c=c+Math.imul(Te,Se)|0,c=c+Math.imul(Oe,_e)|0,m=m+Math.imul(Oe,Se)|0,g=g+Math.imul(Re,Ee)|0,c=c+Math.imul(Re,Me)|0,c=c+Math.imul(Ne,Ee)|0,m=m+Math.imul(Ne,Me)|0;var br=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(br>>>26)|0,br&=67108863,g=Math.imul(ne,de),c=Math.imul(ne,pe),c=c+Math.imul(ie,de)|0,m=Math.imul(ie,pe),g=g+Math.imul(te,ge)|0,c=c+Math.imul(te,ve)|0,c=c+Math.imul(re,ge)|0,m=m+Math.imul(re,ve)|0,g=g+Math.imul(Be,be)|0,c=c+Math.imul(Be,me)|0,c=c+Math.imul(Fe,be)|0,m=m+Math.imul(Fe,me)|0,g=g+Math.imul(Pe,ye)|0,c=c+Math.imul(Pe,we)|0,c=c+Math.imul(je,ye)|0,m=m+Math.imul(je,we)|0,g=g+Math.imul(Le,_e)|0,c=c+Math.imul(Le,Se)|0,c=c+Math.imul(De,_e)|0,m=m+Math.imul(De,Se)|0,g=g+Math.imul(Te,Ee)|0,c=c+Math.imul(Te,Me)|0,c=c+Math.imul(Oe,Ee)|0,m=m+Math.imul(Oe,Me)|0;var mr=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(mr>>>26)|0,mr&=67108863,g=Math.imul(ne,ge),c=Math.imul(ne,ve),c=c+Math.imul(ie,ge)|0,m=Math.imul(ie,ve),g=g+Math.imul(te,be)|0,c=c+Math.imul(te,me)|0,c=c+Math.imul(re,be)|0,m=m+Math.imul(re,me)|0,g=g+Math.imul(Be,ye)|0,c=c+Math.imul(Be,we)|0,c=c+Math.imul(Fe,ye)|0,m=m+Math.imul(Fe,we)|0,g=g+Math.imul(Pe,_e)|0,c=c+Math.imul(Pe,Se)|0,c=c+Math.imul(je,_e)|0,m=m+Math.imul(je,Se)|0,g=g+Math.imul(Le,Ee)|0,c=c+Math.imul(Le,Me)|0,c=c+Math.imul(De,Ee)|0,m=m+Math.imul(De,Me)|0;var Rs=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,g=Math.imul(ne,be),c=Math.imul(ne,me),c=c+Math.imul(ie,be)|0,m=Math.imul(ie,me),g=g+Math.imul(te,ye)|0,c=c+Math.imul(te,we)|0,c=c+Math.imul(re,ye)|0,m=m+Math.imul(re,we)|0,g=g+Math.imul(Be,_e)|0,c=c+Math.imul(Be,Se)|0,c=c+Math.imul(Fe,_e)|0,m=m+Math.imul(Fe,Se)|0,g=g+Math.imul(Pe,Ee)|0,c=c+Math.imul(Pe,Me)|0,c=c+Math.imul(je,Ee)|0,m=m+Math.imul(je,Me)|0;var Ns=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(Ns>>>26)|0,Ns&=67108863,g=Math.imul(ne,ye),c=Math.imul(ne,we),c=c+Math.imul(ie,ye)|0,m=Math.imul(ie,we),g=g+Math.imul(te,_e)|0,c=c+Math.imul(te,Se)|0,c=c+Math.imul(re,_e)|0,m=m+Math.imul(re,Se)|0,g=g+Math.imul(Be,Ee)|0,c=c+Math.imul(Be,Me)|0,c=c+Math.imul(Fe,Ee)|0,m=m+Math.imul(Fe,Me)|0;var Ts=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,g=Math.imul(ne,_e),c=Math.imul(ne,Se),c=c+Math.imul(ie,_e)|0,m=Math.imul(ie,Se),g=g+Math.imul(te,Ee)|0,c=c+Math.imul(te,Me)|0,c=c+Math.imul(re,Ee)|0,m=m+Math.imul(re,Me)|0;var Os=(M+g|0)+((c&8191)<<13)|0;M=(m+(c>>>13)|0)+(Os>>>26)|0,Os&=67108863,g=Math.imul(ne,Ee),c=Math.imul(ne,Me),c=c+Math.imul(ie,Ee)|0,m=Math.imul(ie,Me);var Ls=(M+g|0)+((c&8191)<<13)|0;return M=(m+(c>>>13)|0)+(Ls>>>26)|0,Ls&=67108863,_[0]=sr,_[1]=or,_[2]=ar,_[3]=ur,_[4]=cr,_[5]=lr,_[6]=hr,_[7]=fr,_[8]=dr,_[9]=pr,_[10]=gr,_[11]=vr,_[12]=br,_[13]=mr,_[14]=Rs,_[15]=Ns,_[16]=Ts,_[17]=Os,_[18]=Ls,M!==0&&(_[19]=M,p.length++),p};Math.imul||(A=k);function I(y,a,l){l.negative=a.negative^y.negative,l.length=y.length+a.length;for(var p=0,v=0,w=0;w<l.length-1;w++){var _=v;v=0;for(var M=p&67108863,g=Math.min(w,a.length-1),c=Math.max(0,w-y.length+1);c<=g;c++){var m=w-c,B=y.words[m]|0,P=a.words[c]|0,F=B*P,Qe=F&67108863;_=_+(F/67108864|0)|0,Qe=Qe+M|0,M=Qe&67108863,_=_+(Qe>>>26)|0,v+=_>>>26,_&=67108863}l.words[w]=M,p=_,_=v}return p!==0?l.words[w]=p:l.length--,l._strip()}function L(y,a,l){return I(y,a,l)}s.prototype.mulTo=function(a,l){var p,v=this.length+a.length;return this.length===10&&a.length===10?p=A(this,a,l):v<63?p=k(this,a,l):v<1024?p=I(this,a,l):p=L(this,a,l),p},s.prototype.mul=function(a){var l=new s(null);return l.words=new Array(this.length+a.length),this.mulTo(a,l)},s.prototype.mulf=function(a){var l=new s(null);return l.words=new Array(this.length+a.length),L(this,a,l)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var l=a<0;l&&(a=-a),n(typeof a=="number"),n(a<67108864);for(var p=0,v=0;v<this.length;v++){var w=(this.words[v]|0)*a,_=(w&67108863)+(p&67108863);p>>=26,p+=w/67108864|0,p+=_>>>26,this.words[v]=_&67108863}return p!==0&&(this.words[v]=p,this.length++),l?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var l=R(a);if(l.length===0)return new s(1);for(var p=this,v=0;v<l.length&&l[v]===0;v++,p=p.sqr());if(++v<l.length)for(var w=p.sqr();v<l.length;v++,w=w.sqr())l[v]!==0&&(p=p.mul(w));return p},s.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var l=a%26,p=(a-l)/26,v=67108863>>>26-l<<26-l,w;if(l!==0){var _=0;for(w=0;w<this.length;w++){var M=this.words[w]&v,g=(this.words[w]|0)-M<<l;this.words[w]=g|_,_=M>>>26-l}_&&(this.words[w]=_,this.length++)}if(p!==0){for(w=this.length-1;w>=0;w--)this.words[w+p]=this.words[w];for(w=0;w<p;w++)this.words[w]=0;this.length+=p}return this._strip()},s.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,l,p){n(typeof a=="number"&&a>=0);var v;l?v=(l-l%26)/26:v=0;var w=a%26,_=Math.min((a-w)/26,this.length),M=67108863^67108863>>>w<<w,g=p;if(v-=_,v=Math.max(0,v),g){for(var c=0;c<_;c++)g.words[c]=this.words[c];g.length=_}if(_!==0)if(this.length>_)for(this.length-=_,c=0;c<this.length;c++)this.words[c]=this.words[c+_];else this.words[0]=0,this.length=1;var m=0;for(c=this.length-1;c>=0&&(m!==0||c>=v);c--){var B=this.words[c]|0;this.words[c]=m<<26-w|B>>>w,m=B&M}return g&&m!==0&&(g.words[g.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,l,p){return n(this.negative===0),this.iushrn(a,l,p)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var l=a%26,p=(a-l)/26,v=1<<l;if(this.length<=p)return!1;var w=this.words[p];return!!(w&v)},s.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var l=a%26,p=(a-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(l!==0&&p++,this.length=Math.min(p,this.length),l!==0){var v=67108863^67108863>>>l<<l;this.words[this.length-1]&=v}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},s.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,l,p){var v=a.length+p,w;this._expand(v);var _,M=0;for(w=0;w<a.length;w++){_=(this.words[w+p]|0)+M;var g=(a.words[w]|0)*l;_-=g&67108863,M=(_>>26)-(g/67108864|0),this.words[w+p]=_&67108863}for(;w<this.length-p;w++)_=(this.words[w+p]|0)+M,M=_>>26,this.words[w+p]=_&67108863;if(M===0)return this._strip();for(n(M===-1),M=0,w=0;w<this.length;w++)_=-(this.words[w]|0)+M,M=_>>26,this.words[w]=_&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,l){var p=this.length-a.length,v=this.clone(),w=a,_=w.words[w.length-1]|0,M=this._countBits(_);p=26-M,p!==0&&(w=w.ushln(p),v.iushln(p),_=w.words[w.length-1]|0);var g=v.length-w.length,c;if(l!=="mod"){c=new s(null),c.length=g+1,c.words=new Array(c.length);for(var m=0;m<c.length;m++)c.words[m]=0}var B=v.clone()._ishlnsubmul(w,1,g);B.negative===0&&(v=B,c&&(c.words[g]=1));for(var P=g-1;P>=0;P--){var F=(v.words[w.length+P]|0)*67108864+(v.words[w.length+P-1]|0);for(F=Math.min(F/_|0,67108863),v._ishlnsubmul(w,F,P);v.negative!==0;)F--,v.negative=0,v._ishlnsubmul(w,1,P),v.isZero()||(v.negative^=1);c&&(c.words[P]=F)}return c&&c._strip(),v._strip(),l!=="div"&&p!==0&&v.iushrn(p),{div:c||null,mod:v}},s.prototype.divmod=function(a,l,p){if(n(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,w,_;return this.negative!==0&&a.negative===0?(_=this.neg().divmod(a,l),l!=="mod"&&(v=_.div.neg()),l!=="div"&&(w=_.mod.neg(),p&&w.negative!==0&&w.iadd(a)),{div:v,mod:w}):this.negative===0&&a.negative!==0?(_=this.divmod(a.neg(),l),l!=="mod"&&(v=_.div.neg()),{div:v,mod:_.mod}):this.negative&a.negative?(_=this.neg().divmod(a.neg(),l),l!=="div"&&(w=_.mod.neg(),p&&w.negative!==0&&w.isub(a)),{div:_.div,mod:w}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?l==="div"?{div:this.divn(a.words[0]),mod:null}:l==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,l)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var l=this.divmod(a);if(l.mod.isZero())return l.div;var p=l.div.negative!==0?l.mod.isub(a):l.mod,v=a.ushrn(1),w=a.andln(1),_=p.cmp(v);return _<0||w===1&&_===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},s.prototype.modrn=function(a){var l=a<0;l&&(a=-a),n(a<=67108863);for(var p=(1<<26)%a,v=0,w=this.length-1;w>=0;w--)v=(p*v+(this.words[w]|0))%a;return l?-v:v},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var l=a<0;l&&(a=-a),n(a<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var w=(this.words[v]|0)+p*67108864;this.words[v]=w/a|0,p=w%a}return this._strip(),l?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var l=this,p=a.clone();l.negative!==0?l=l.umod(a):l=l.clone();for(var v=new s(1),w=new s(0),_=new s(0),M=new s(1),g=0;l.isEven()&&p.isEven();)l.iushrn(1),p.iushrn(1),++g;for(var c=p.clone(),m=l.clone();!l.isZero();){for(var B=0,P=1;!(l.words[0]&P)&&B<26;++B,P<<=1);if(B>0)for(l.iushrn(B);B-- >0;)(v.isOdd()||w.isOdd())&&(v.iadd(c),w.isub(m)),v.iushrn(1),w.iushrn(1);for(var F=0,Qe=1;!(p.words[0]&Qe)&&F<26;++F,Qe<<=1);if(F>0)for(p.iushrn(F);F-- >0;)(_.isOdd()||M.isOdd())&&(_.iadd(c),M.isub(m)),_.iushrn(1),M.iushrn(1);l.cmp(p)>=0?(l.isub(p),v.isub(_),w.isub(M)):(p.isub(l),_.isub(v),M.isub(w))}return{a:_,b:M,gcd:p.iushln(g)}},s.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var l=this,p=a.clone();l.negative!==0?l=l.umod(a):l=l.clone();for(var v=new s(1),w=new s(0),_=p.clone();l.cmpn(1)>0&&p.cmpn(1)>0;){for(var M=0,g=1;!(l.words[0]&g)&&M<26;++M,g<<=1);if(M>0)for(l.iushrn(M);M-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);for(var c=0,m=1;!(p.words[0]&m)&&c<26;++c,m<<=1);if(c>0)for(p.iushrn(c);c-- >0;)w.isOdd()&&w.iadd(_),w.iushrn(1);l.cmp(p)>=0?(l.isub(p),v.isub(w)):(p.isub(l),w.isub(v))}var B;return l.cmpn(1)===0?B=v:B=w,B.cmpn(0)<0&&B.iadd(a),B},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var l=this.clone(),p=a.clone();l.negative=0,p.negative=0;for(var v=0;l.isEven()&&p.isEven();v++)l.iushrn(1),p.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;p.isEven();)p.iushrn(1);var w=l.cmp(p);if(w<0){var _=l;l=p,p=_}else if(w===0||p.cmpn(1)===0)break;l.isub(p)}while(!0);return p.iushln(v)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){n(typeof a=="number");var l=a%26,p=(a-l)/26,v=1<<l;if(this.length<=p)return this._expand(p+1),this.words[p]|=v,this;for(var w=v,_=p;w!==0&&_<this.length;_++){var M=this.words[_]|0;M+=w,w=M>>>26,M&=67108863,this.words[_]=M}return w!==0&&(this.words[_]=w,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var l=a<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var p;if(this.length>1)p=1;else{l&&(a=-a),n(a<=67108863,"Number is too big");var v=this.words[0]|0;p=v===a?0:v<a?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var l=this.ucmp(a);return this.negative!==0?-l|0:l},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var l=0,p=this.length-1;p>=0;p--){var v=this.words[p]|0,w=a.words[p]|0;if(v!==w){v<w?l=-1:v>w&&(l=1);break}}return l},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new H(a)},s.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var Z={k256:null,p224:null,p192:null,p25519:null};function D(y,a){this.name=y,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},D.prototype.ireduce=function(a){var l=a,p;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),p=l.bitLength();while(p>this.n);var v=p<this.n?-1:l.ucmp(this.p);return v===0?(l.words[0]=0,l.length=1):v>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},D.prototype.split=function(a,l){a.iushrn(this.n,0,l)},D.prototype.imulK=function(a){return a.imul(this.k)};function K(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(K,D),K.prototype.split=function(a,l){for(var p=4194303,v=Math.min(a.length,9),w=0;w<v;w++)l.words[w]=a.words[w];if(l.length=v,a.length<=9){a.words[0]=0,a.length=1;return}var _=a.words[9];for(l.words[l.length++]=_&p,w=10;w<a.length;w++){var M=a.words[w]|0;a.words[w-10]=(M&p)<<4|_>>>22,_=M}_>>>=22,a.words[w-10]=_,_===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var l=0,p=0;p<a.length;p++){var v=a.words[p]|0;l+=v*977,a.words[p]=l&67108863,l=v*64+(l/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function ht(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ht,D);function Ue(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Ue,D);function qe(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(qe,D),qe.prototype.imulK=function(a){for(var l=0,p=0;p<a.length;p++){var v=(a.words[p]|0)*19+l,w=v&67108863;v>>>=26,a.words[p]=w,l=v}return l!==0&&(a.words[a.length++]=l),a},s._prime=function(a){if(Z[a])return Z[a];var l;if(a==="k256")l=new K;else if(a==="p224")l=new ht;else if(a==="p192")l=new Ue;else if(a==="p25519")l=new qe;else throw new Error("Unknown prime "+a);return Z[a]=l,l};function H(y){if(typeof y=="string"){var a=s._prime(y);this.m=a.p,this.prime=a}else n(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}H.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},H.prototype._verify2=function(a,l){n((a.negative|l.negative)===0,"red works only with positives"),n(a.red&&a.red===l.red,"red works only with red numbers")},H.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(d(a,a.umod(this.m)._forceRed(this)),a)},H.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},H.prototype.add=function(a,l){this._verify2(a,l);var p=a.add(l);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},H.prototype.iadd=function(a,l){this._verify2(a,l);var p=a.iadd(l);return p.cmp(this.m)>=0&&p.isub(this.m),p},H.prototype.sub=function(a,l){this._verify2(a,l);var p=a.sub(l);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},H.prototype.isub=function(a,l){this._verify2(a,l);var p=a.isub(l);return p.cmpn(0)<0&&p.iadd(this.m),p},H.prototype.shl=function(a,l){return this._verify1(a),this.imod(a.ushln(l))},H.prototype.imul=function(a,l){return this._verify2(a,l),this.imod(a.imul(l))},H.prototype.mul=function(a,l){return this._verify2(a,l),this.imod(a.mul(l))},H.prototype.isqr=function(a){return this.imul(a,a.clone())},H.prototype.sqr=function(a){return this.mul(a,a)},H.prototype.sqrt=function(a){if(a.isZero())return a.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(a,p)}for(var v=this.m.subn(1),w=0;!v.isZero()&&v.andln(1)===0;)w++,v.iushrn(1);n(!v.isZero());var _=new s(1).toRed(this),M=_.redNeg(),g=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,g).cmp(M)!==0;)c.redIAdd(M);for(var m=this.pow(c,v),B=this.pow(a,v.addn(1).iushrn(1)),P=this.pow(a,v),F=w;P.cmp(_)!==0;){for(var Qe=P,X=0;Qe.cmp(_)!==0;X++)Qe=Qe.redSqr();n(X<F);var ee=this.pow(m,new s(1).iushln(F-X-1));B=B.redMul(ee),m=ee.redSqr(),P=P.redMul(m),F=X}return B},H.prototype.invm=function(a){var l=a._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},H.prototype.pow=function(a,l){if(l.isZero())return new s(1).toRed(this);if(l.cmpn(1)===0)return a.clone();var p=4,v=new Array(1<<p);v[0]=new s(1).toRed(this),v[1]=a;for(var w=2;w<v.length;w++)v[w]=this.mul(v[w-1],a);var _=v[0],M=0,g=0,c=l.bitLength()%26;for(c===0&&(c=26),w=l.length-1;w>=0;w--){for(var m=l.words[w],B=c-1;B>=0;B--){var P=m>>B&1;if(_!==v[0]&&(_=this.sqr(_)),P===0&&M===0){g=0;continue}M<<=1,M|=P,g++,!(g!==p&&(w!==0||B!==0))&&(_=this.mul(_,v[M]),g=0,M=0)}c=26}return _},H.prototype.convertTo=function(a){var l=a.umod(this.m);return l===a?l.clone():l},H.prototype.convertFrom=function(a){var l=a.clone();return l.red=null,l},s.mont=function(a){return new Y(a)};function Y(y){H.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Y,H),Y.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Y.prototype.convertFrom=function(a){var l=this.imod(a.mul(this.rinv));return l.red=null,l},Y.prototype.imul=function(a,l){if(a.isZero()||l.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(l),v=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=p.isub(v).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},Y.prototype.mul=function(a,l){if(a.isZero()||l.isZero())return new s(0)._forceRed(this);var p=a.mul(l),v=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=p.isub(v).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},Y.prototype.invm=function(a){var l=this.imod(a._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(t,G)})(bh);var zi={},Yt={},$u=qn;qn.default=qn;qn.stable=Vu;qn.stableStringify=Vu;var ki="[...]",Hu="[Circular]",Cr=[],Mr=[];function zu(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function qn(t,e,r,n){typeof n>"u"&&(n=zu()),oo(t,"",0,[],void 0,0,n);var i;try{Mr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Uu(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Cr.length!==0;){var s=Cr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Gr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Cr.push([n,r,e,i])):Mr.push([e,r,t]):(n[r]=t,Cr.push([n,r,e]))}function oo(t,e,r,n,i,s,o){s+=1;var u;if(typeof t=="object"&&t!==null){for(u=0;u<n.length;u++)if(n[u]===t){Gr(Hu,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Gr(ki,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Gr(ki,t,e,i);return}if(n.push(t),Array.isArray(t))for(u=0;u<t.length;u++)oo(t[u],u,u,n,t,s,o);else{var h=Object.keys(t);for(u=0;u<h.length;u++){var f=h[u];oo(t[f],f,u,n,t,s,o)}}n.pop()}}function mh(t,e){return t<e?-1:t>e?1:0}function Vu(t,e,r,n){typeof n>"u"&&(n=zu());var i=ao(t,"",0,[],void 0,0,n)||t,s;try{Mr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Uu(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Cr.length!==0;){var o=Cr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function ao(t,e,r,n,i,s,o){s+=1;var u;if(typeof t=="object"&&t!==null){for(u=0;u<n.length;u++)if(n[u]===t){Gr(Hu,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Gr(ki,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Gr(ki,t,e,i);return}if(n.push(t),Array.isArray(t))for(u=0;u<t.length;u++)ao(t[u],u,u,n,t,s,o);else{var h={},f=Object.keys(t).sort(mh);for(u=0;u<f.length;u++){var d=f[u];ao(t[d],d,u,n,t,s,o),h[d]=t[d]}if(typeof i<"u")Cr.push([i,e,t]),i[e]=h;else return h}n.pop()}}function Uu(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Mr.length>0)for(var n=0;n<Mr.length;n++){var i=Mr[n];if(i[1]===e&&i[0]===r){r=i[2],Mr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Yt,"__esModule",{value:!0});Yt.EthereumProviderError=Yt.EthereumRpcError=void 0;const yh=$u;let qu=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return yh.default(this.serialize(),Sh,2)}};Yt.EthereumRpcError=qu;let wh=class extends qu{constructor(e,r,n){if(!_h(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};Yt.EthereumProviderError=wh;function _h(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Sh(t,e){if(e!=="[Circular]")return e}var Ao={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.errorValues=Jt.errorCodes=void 0;Jt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Jt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Jt,r=Yt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(b,E=i){if(Number.isInteger(b)){const x=b.toString();if(S(e.errorValues,x))return e.errorValues[x].message;if(f(b))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return E}t.getMessageFromCode=o;function u(b){if(!Number.isInteger(b))return!1;const E=b.toString();return!!(e.errorValues[E]||f(b))}t.isValidCode=u;function h(b,{fallbackError:E=s,shouldIncludeStack:x=!1}={}){var N,R;if(!E||!Number.isInteger(E.code)||typeof E.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(b instanceof r.EthereumRpcError)return b.serialize();const k={};if(b&&typeof b=="object"&&!Array.isArray(b)&&S(b,"code")&&u(b.code)){const I=b;k.code=I.code,I.message&&typeof I.message=="string"?(k.message=I.message,S(I,"data")&&(k.data=I.data)):(k.message=o(k.code),k.data={originalError:d(b)})}else{k.code=E.code;const I=(N=b)===null||N===void 0?void 0:N.message;k.message=I&&typeof I=="string"?I:E.message,k.data={originalError:d(b)}}const A=(R=b)===null||R===void 0?void 0:R.stack;return x&&b&&A&&typeof A=="string"&&(k.stack=A),k}t.serializeError=h;function f(b){return b>=-32099&&b<=-32e3}function d(b){return b&&typeof b=="object"&&!Array.isArray(b)?Object.assign({},b):b}function S(b,E){return Object.prototype.hasOwnProperty.call(b,E)}})(Ao);var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.ethErrors=void 0;const Ro=Yt,Zu=Ao,rt=Jt;Vi.ethErrors={rpc:{parse:t=>vt(rt.errorCodes.rpc.parse,t),invalidRequest:t=>vt(rt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>vt(rt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>vt(rt.errorCodes.rpc.methodNotFound,t),internal:t=>vt(rt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return vt(e,t)},invalidInput:t=>vt(rt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>vt(rt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>vt(rt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>vt(rt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>vt(rt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>vt(rt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Rn(rt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Rn(rt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Rn(rt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Rn(rt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Rn(rt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ro.EthereumProviderError(e,r,n)}}};function vt(t,e){const[r,n]=Qu(e);return new Ro.EthereumRpcError(t,r||Zu.getMessageFromCode(t),n)}function Rn(t,e){const[r,n]=Qu(e);return new Ro.EthereumProviderError(t,r||Zu.getMessageFromCode(t),n)}function Qu(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Yt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Ao;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Vi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Jt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(zi);var pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.EVENTS=void 0;pn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var gn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uo=function(t,e){return uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},uo(t,e)};function C(t,e){uo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function en(t){return typeof t=="function"}var ya=!1,yt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}ya=t},get useDeprecatedSynchronousErrorHandling(){return ya}};function Zr(t){setTimeout(function(){throw t},0)}var Ii={closed:!0,next:function(t){},error:function(t){if(yt.useDeprecatedSynchronousErrorHandling)throw t;Zr(t)},complete:function(){}},ct=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function No(t){return t!==null&&typeof t=="object"}var Eh=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),jn=Eh,$e=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var u=0;u<n.length;++u){var h=n[u];h.remove(this)}if(en(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(S){e=S instanceof jn?wa(S.errors):[S]}}if(ct(o))for(var u=-1,f=o.length;++u<f;){var d=o[u];if(No(d))try{d.unsubscribe()}catch(b){e=e||[],b instanceof jn?e=e.concat(wa(b.errors)):e.push(b)}}if(e)throw new jn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function wa(t){return t.reduce(function(e,r){return e.concat(r instanceof jn?r.errors:r)},[])}var Ai=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),O=function(t){C(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Ii;break;case 1:if(!r){s.destination=Ii;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new _a(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new _a(s,r,n,i);break}return s}return e.prototype[Ai]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}($e),_a=function(t){C(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var u,h=o;return en(n)?u=n:n&&(u=n.next,i=n.error,s=n.complete,n!==Ii&&(h=Object.create(n),en(h.unsubscribe)&&o.add(h.unsubscribe.bind(h)),h.unsubscribe=o.unsubscribe.bind(o))),o._context=h,o._next=u,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!yt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=yt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Zr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Zr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!yt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),yt.useDeprecatedSynchronousErrorHandling)throw i;Zr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!yt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return yt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Zr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(O);function To(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof O?t=n:t=null}return!0}function Mh(t,e,r){if(t){if(t instanceof O)return t;if(t[Ai])return t[Ai]()}return!t&&!e&&!r?new O(Ii):new O(t,e,r)}var vn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Xt(t){return t}function co(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Gu(t)}function Gu(t){return t.length===0?Xt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var V=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=Mh(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||yt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),yt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){yt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),To(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Sa(r),new r(function(i,s){var o;o=n.subscribe(function(u){try{e(u)}catch(h){s(h),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[vn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Gu(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Sa(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Sa(t){if(t||(t=yt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var xh=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Zt=xh,Ku=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}($e),Yu=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(O),Xe=function(t){C(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Ai]=function(){return new Yu(this)},e.prototype.lift=function(r){var n=new Ea(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Zt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Zt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Zt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Zt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Zt;return this.hasError?(r.error(this.thrownError),$e.EMPTY):this.isStopped?(r.complete(),$e.EMPTY):(this.observers.push(r),new Ku(this,r))},e.prototype.asObservable=function(){var r=new V;return r.source=this,r},e.create=function(r,n){return new Ea(r,n)},e}(V),Ea=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):$e.EMPTY},e}(Xe);function Oo(){return function(e){return e.lift(new Ch(e))}}var Ch=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new kh(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),kh=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(O),Ju=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new $e,r.add(this.source.subscribe(new Ah(this.getSubject(),this))),r.closed&&(this._connection=null,r=$e.EMPTY)),r},e.prototype.refCount=function(){return Oo()(this)},e}(V),Ih=function(){var t=Ju.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Ah=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Yu);function Rh(t,e,r,n){return function(i){return i.lift(new Nh(t,e,r,n))}}var Nh=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new Th(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),Th=function(t){C(e,t);function e(r,n,i,s,o){var u=t.call(this,r)||this;return u.keySelector=n,u.elementSelector=i,u.durationSelector=s,u.subjectSelector=o,u.groups=null,u.attemptedToUnsubscribe=!1,u.count=0,u}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(f){this.error(f)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Xe,i.set(n,s);var u=new lo(n,s,this);if(this.destination.next(u),this.durationSelector){var h=void 0;try{h=this.durationSelector(new lo(n,s))}catch(f){this.error(f);return}this.add(h.subscribe(new Oh(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(O),Oh=function(t){C(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(O),lo=function(t){C(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new $e,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new Lh(s)),n.add(o.subscribe(r)),n},e}(V),Lh=function(t){C(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}($e),Xu=function(t){C(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Zt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Xe),Dh=function(t){C(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}($e),Yn=function(t){C(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(Dh),Ph=function(t){C(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Yn),ho=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Jn=function(t){C(e,t);function e(r,n){n===void 0&&(n=ho.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(ho),jh=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Jn),ec=new jh(Ph),tc=ec,tn=new V(function(t){return t.complete()});function bn(t){return t?Bh(t):tn}function Bh(t){return new V(function(e){return t.schedule(function(){return e.complete()})})}function pt(t){return t&&typeof t.schedule=="function"}var rc=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Lo(t,e){return new V(function(r){var n=new $e,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Xn(t,e){return e?Lo(t,e):new V(rc(t))}function Ui(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return pt(r)?(t.pop(),Lo(t,r)):Xn(t)}function Do(t,e){return e?new V(function(r){return e.schedule(Fh,0,{error:t,subscriber:r})}):new V(function(r){return r.error(t)})}function Fh(t){var e=t.error,r=t.subscriber;r.error(e)}var fo;fo||(fo={});var Wt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Ui(this.value);case"E":return Do(this.error);case"C":return bn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Wh(t,e){return e===void 0&&(e=0),function(n){return n.lift(new $h(t,e))}}var $h=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new nc(e,this.scheduler,this.delay))},t}(),nc=function(t){C(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Hh(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Wt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Wt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Wt.createComplete()),this.unsubscribe()},e}(O),Hh=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Po=function(t){C(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new zh(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,u;if(this.closed)throw new Zt;if(this.isStopped||this.hasError?u=$e.EMPTY:(this.observers.push(r),u=new Ku(this,r)),s&&r.add(r=new nc(r,s)),n)for(var h=0;h<o&&!r.closed;h++)r.next(i[h]);else for(var h=0;h<o&&!r.closed;h++)r.next(i[h].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),u},e.prototype._getNow=function(){return(this.scheduler||tc).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,u=0;u<o&&!(r-s[u].time<i);)u++;return o>n&&(u=Math.max(u,o-n)),u>0&&s.splice(0,u),s},e}(Xe),zh=function(){function t(e,r){this.time=e,this.value=r}return t}(),mn=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),$e.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),$e.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Xe),Vh=1,Uh=function(){return Promise.resolve()}(),po={};function Ma(t){return t in po?(delete po[t],!0):!1}var xa={setImmediate:function(t){var e=Vh++;return po[e]=!0,Uh.then(function(){return Ma(e)&&t()}),e},clearImmediate:function(t){Ma(t)}},qh=function(t){C(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=xa.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(xa.clearImmediate(n),r.scheduled=void 0)},e}(Yn),Zh=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Jn),ic=new Zh(qh),Ei=ic,sc=new Jn(Yn),lt=sc,Qh=function(t){C(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Yn),Gh=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Jn),oc=new Gh(Qh),Kh=oc,Yh=function(t){C(e,t);function e(r,n){r===void 0&&(r=ac),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Jn),ac=function(t){C(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Yn);function Rt(){}function Jh(t){return!!t&&(t instanceof V||typeof t.lift=="function"&&typeof t.subscribe=="function")}var Xh=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),rn=Xh,ef=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),ei=ef,tf=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),uc=tf;function Et(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new rf(t,e))}}var rf=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new nf(e,this.project,this.thisArg))},t}(),nf=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(O);function cc(t,e,r){if(e)if(pt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return cc(t,r).apply(void 0,n).pipe(Et(function(s){return ct(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,u={context:s,subject:o,callbackFunc:t,scheduler:r};return new V(function(h){if(r){var d={args:n,subscriber:h,params:u};return r.schedule(sf,0,d)}else{if(!o){o=new mn;var f=function(){for(var S=[],b=0;b<arguments.length;b++)S[b]=arguments[b];o.next(S.length<=1?S[0]:S),o.complete()};try{t.apply(s,n.concat([f]))}catch(S){To(o)?o.error(S):console.warn(S)}}return o.subscribe(h)}})}}function sf(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,u=i.scheduler,h=i.subject;if(!h){h=i.subject=new mn;var f=function(){for(var d=[],S=0;S<arguments.length;S++)d[S]=arguments[S];var b=d.length<=1?d[0]:d;e.add(u.schedule(of,0,{value:b,subject:h}))};try{s.apply(o,r.concat([f]))}catch(d){h.error(d)}}this.add(h.subscribe(n))}function of(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function lc(t,e,r){if(e)if(pt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return lc(t,r).apply(void 0,n).pipe(Et(function(s){return ct(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new V(function(o){var u=s.context,h=s.subject;if(r)return r.schedule(af,0,{params:s,subscriber:o,context:u});if(!h){h=s.subject=new mn;var f=function(){for(var d=[],S=0;S<arguments.length;S++)d[S]=arguments[S];var b=d.shift();if(b){h.error(b);return}h.next(d.length<=1?d[0]:d),h.complete()};try{t.apply(u,n.concat([f]))}catch(d){To(h)?h.error(d):console.warn(d)}}return h.subscribe(o)})}}function af(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,u=r.scheduler,h=r.subject;if(!h){h=r.subject=new mn;var f=function(){for(var d=[],S=0;S<arguments.length;S++)d[S]=arguments[S];var b=d.shift();if(b)e.add(u.schedule(Ca,0,{err:b,subject:h}));else{var E=d.length<=1?d[0]:d;e.add(u.schedule(uf,0,{value:E,subject:h}))}};try{s.apply(i,o.concat([f]))}catch(d){this.add(u.schedule(Ca,0,{err:d,subject:h}))}}this.add(h.subscribe(n))}function uf(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Ca(t){var e=t.err,r=t.subject;r.error(e)}var Rr=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(O),cf=function(t){C(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(O),lf=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Zr),e}};function hf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var er=hf(),ff=function(t){return function(e){var r=t[er]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},df=function(t){return function(e){var r=t[vn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},hc=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function fc(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Zn=function(t){if(t&&typeof t[vn]=="function")return df(t);if(hc(t))return rc(t);if(fc(t))return lf(t);if(t&&typeof t[er]=="function")return ff(t);var e=No(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function $t(t,e,r,n,i){if(i===void 0&&(i=new cf(t,r,n)),!i.closed)return e instanceof V?e.subscribe(i):Zn(e)(i)}var ka={};function pf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return pt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&ct(t[0])&&(t=t[0]),Xn(t,n).lift(new jo(r))}var jo=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new gf(e,this.resultSelector))},t}(),gf=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(ka),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add($t(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],u=this.toRespond?o===ka?--this.toRespond:this.toRespond:0;s[i]=n,u===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Rr);function vf(t,e){return new V(function(r){var n=new $e;return n.add(e.schedule(function(){var i=t[vn]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function bf(t,e){return new V(function(r){var n=new $e;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function mf(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(function(r){var n=new $e,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[er](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var u=i.next();s=u.value,o=u.done}catch(h){r.error(h);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function yf(t){return t&&typeof t[vn]=="function"}function wf(t){return t&&typeof t[er]=="function"}function dc(t,e){if(t!=null){if(yf(t))return vf(t,e);if(fc(t))return bf(t,e);if(hc(t))return Lo(t,e);if(wf(t)||typeof t=="string")return mf(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Ht(t,e){return e?dc(t,e):t instanceof V?t:new V(Zn(t))}var He=function(t){C(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(O),ze=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(O);function Ve(t,e){if(!e.closed){if(t instanceof V)return t.subscribe(e);var r;try{r=Zn(t)(e)}catch(n){e.error(n)}return r}}function kr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(kr(function(i,s){return Ht(t(i,s)).pipe(Et(function(o,u){return e(i,o,s,u)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new _f(t,r))})}var _f=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new Sf(e,this.project,this.concurrent))},t}(),Sf=function(t){C(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new He(this),i=this.destination;i.add(n);var s=Ve(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(ze),Ef=kr;function Bo(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),kr(Xt,t)}function pc(){return Bo(1)}function Qn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return pc()(Ui.apply(void 0,t))}function Fo(t){return new V(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Ht(r):bn();return n.subscribe(e)})}function Mf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(ct(r))return fi(r,null);if(No(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return fi(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&ct(t[0])?t[0]:t,fi(t,null).pipe(Et(function(s){return i.apply(void 0,s)}))}return fi(t,null)}function fi(t,e){return new V(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,u=function(f){var d=Ht(t[f]),S=!1;r.add(d.subscribe({next:function(b){S||(S=!0,o++),i[f]=b},error:function(b){return r.error(b)},complete:function(){s++,(s===n||!S)&&(o===n&&r.next(e?e.reduce(function(b,E,x){return b[E]=i[x],b},{}):i),r.complete())}}))},h=0;h<n;h++)u(h)})}function gc(t,e,r,n){return en(r)&&(n=r,r=void 0),n?gc(t,e,r).pipe(Et(function(i){return ct(i)?n.apply(void 0,i):n(i)})):new V(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}vc(t,e,s,i,r)})}function vc(t,e,r,n,i){var s;if(kf(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(Cf(t)){var u=t;t.on(e,r),s=function(){return u.off(e,r)}}else if(xf(t)){var h=t;t.addListener(e,r),s=function(){return h.removeListener(e,r)}}else if(t&&t.length)for(var f=0,d=t.length;f<d;f++)vc(t[f],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function xf(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function Cf(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function kf(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function bc(t,e,r){return r?bc(t,e).pipe(Et(function(n){return ct(n)?r.apply(void 0,n):r(n)})):new V(function(n){var i=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(en(e))return function(){return e(i,s)}})}function If(t,e,r,n,i){var s,o;if(arguments.length==1){var u=t;o=u.initialState,e=u.condition,r=u.iterate,s=u.resultSelector||Xt,i=u.scheduler}else n===void 0||pt(n)?(o=t,s=Xt,i=n):(o=t,s=n);return new V(function(h){var f=o;if(i)return i.schedule(Af,0,{subscriber:h,iterate:r,condition:e,resultSelector:s,state:f});do{if(e){var d=void 0;try{d=e(f)}catch(b){h.error(b);return}if(!d){h.complete();break}}var S=void 0;try{S=s(f)}catch(b){h.error(b);return}if(h.next(S),h.closed)break;try{f=r(f)}catch(b){h.error(b);return}}while(!0)})}function Af(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function Rf(t,e,r){return e===void 0&&(e=tn),r===void 0&&(r=tn),Fo(function(){return t()?e:r})}function nn(t){return!ct(t)&&t-parseFloat(t)+1>=0}function Nf(t,e){return t===void 0&&(t=0),e===void 0&&(e=lt),(!nn(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=lt),new V(function(r){return r.add(e.schedule(Tf,t,{subscriber:r,counter:0,period:t})),r})}function Tf(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function mc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return pt(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof V?t[0]:Bo(r)(Xn(t,n))}var yc=new V(Rt);function Of(){return yc}function go(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return tn;var r=t[0],n=t.slice(1);return t.length===1&&ct(r)?go.apply(void 0,r):new V(function(i){var s=function(){return i.add(go.apply(void 0,n).subscribe(i))};return Ht(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function Lf(t,e){return e?new V(function(r){var n=Object.keys(t),i=new $e;return i.add(e.schedule(Df,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new V(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function Df(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function wc(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function tr(t,e){return function(n){return n.lift(new Pf(t,e))}}var Pf=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new jf(e,this.predicate,this.thisArg))},t}(),jf=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(O);function Bf(t,e,r){return[tr(e,r)(new V(Zn(t))),tr(wc(e,r))(new V(Zn(t)))]}function _c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(ct(t[0]))t=t[0];else return t[0];return Xn(t,void 0).lift(new Ff)}var Ff=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Wf(e))},t}(),Wf=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=$t(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Rr);function $f(t,e,r){return t===void 0&&(t=0),new V(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(Hf,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function Hf(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Sc(t,e,r){t===void 0&&(t=0);var n=-1;return nn(e)?n=Number(e)<1&&1||Number(e):pt(e)&&(r=e),pt(r)||(r=lt),new V(function(i){var s=nn(t)?t:+t-r.now();return r.schedule(zf,s,{index:0,period:n,subscriber:i})})}function zf(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Vf(t,e){return new V(function(r){var n;try{n=t()}catch(u){r.error(u);return}var i;try{i=e(n)}catch(u){r.error(u);return}var s=i?Ht(i):tn,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function Ec(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Xn(t,void 0).lift(new Mc(r))}var Mc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Uf(e,this.resultSelector))},t}(),Uf=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;ct(r)?n.push(new Zf(r)):typeof r[er]=="function"?n.push(new qf(r[er]())):n.push(new Qf(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var u=!1,h=[],s=0;s<n;s++){var o=r[s],f=o.next();if(o.hasCompleted()&&(u=!0),f.done){i.complete();return}h.push(f.value)}this.resultSelector?this._tryresultSelector(h):i.next(h),u&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(O),qf=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),Zf=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[er]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Qf=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[er]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return Ve(this.observable,new He(this))},e}(ze);const Gf=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:rn,AsyncSubject:mn,BehaviorSubject:Xu,ConnectableObservable:Ju,EMPTY:tn,EmptyError:ei,GroupedObservable:lo,NEVER:yc,Notification:Wt,get NotificationKind(){return fo},ObjectUnsubscribedError:Zt,Observable:V,ReplaySubject:Po,Scheduler:ho,Subject:Xe,Subscriber:O,Subscription:$e,TimeoutError:uc,UnsubscriptionError:jn,VirtualAction:ac,VirtualTimeScheduler:Yh,animationFrame:Kh,animationFrameScheduler:oc,asap:Ei,asapScheduler:ic,async:lt,asyncScheduler:sc,bindCallback:cc,bindNodeCallback:lc,combineLatest:pf,concat:Qn,config:yt,defer:Fo,empty:bn,forkJoin:Mf,from:Ht,fromEvent:gc,fromEventPattern:bc,generate:If,identity:Xt,iif:Rf,interval:Nf,isObservable:Jh,merge:mc,never:Of,noop:Rt,observable:vn,of:Ui,onErrorResumeNext:go,pairs:Lf,partition:Bf,pipe:co,queue:tc,queueScheduler:ec,race:_c,range:$f,scheduled:dc,throwError:Do,timer:Sc,using:Vf,zip:Ec},Symbol.toStringTag,{value:"Module"})),yn=fn(Gf);function xc(t){return function(r){return r.lift(new Kf(t))}}var Kf=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Yf(e,this.durationSelector))},t}(),Yf=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=Ve(n,new He(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(ze);function Jf(t,e){return e===void 0&&(e=lt),xc(function(){return Sc(t,e)})}function Xf(t){return function(r){return r.lift(new ed(t))}}var ed=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new td(e,this.closingNotifier))},t}(),td=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(Ve(n,new He(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(ze);function rd(t,e){return e===void 0&&(e=null),function(n){return n.lift(new nd(t,e))}}var nd=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=id:this.subscriberClass=sd}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),id=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(O),sd=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,u=n.count;this.count++,u%s===0&&o.push([]);for(var h=o.length;h--;){var f=o[h];f.push(r),f.length===i&&(o.splice(h,1),this.destination.next(f))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(O);function od(t){var e=arguments.length,r=lt;pt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new ad(t,n,i,r))}}var ad=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new cd(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),ud=function(){function t(){this.buffer=[]}return t}(),cd=function(t){C(e,t);function e(r,n,i,s,o){var u=t.call(this,r)||this;u.bufferTimeSpan=n,u.bufferCreationInterval=i,u.maxBufferSize=s,u.scheduler=o,u.contexts=[];var h=u.openContext();if(u.timespanOnly=i==null||i<0,u.timespanOnly){var f={subscriber:u,context:h,bufferTimeSpan:n};u.add(h.closeAction=o.schedule(Ia,n,f))}else{var d={subscriber:u,context:h},S={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:u,scheduler:o};u.add(h.closeAction=o.schedule(Cc,n,d)),u.add(o.schedule(ld,i,S))}return u}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var u=n[o],h=u.buffer;h.push(r),h.length==this.maxBufferSize&&(s=u)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Ia,i,s))}},e.prototype.openContext=function(){var r=new ud;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(O);function Ia(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function ld(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Cc,r,{subscriber:n,context:s})),o.schedule(t,e))}function Cc(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function hd(t,e){return function(n){return n.lift(new fd(t,e))}}var fd=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new dd(e,this.openings,this.closingSelector))},t}(),dd=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add($t(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new $e,o={buffer:i,subscription:s};n.push(o);var u=$t(this,r,o);!u||u.closed?this.closeBuffer(o):(u.context=o,this.add(u),s.add(u))},e}(Rr);function pd(t){return function(e){return e.lift(new gd(t))}}var gd=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new vd(e,this.closingSelector))},t}(),vd=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new $e,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(Ve(i,new He(this))),this.subscribing=!1},e}(ze);function bd(t){return function(r){var n=new md(t),i=r.lift(n);return n.caught=i}}var md=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new yd(e,this.selector,this.caught))},t}(),yd=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new He(this);this.add(i);var s=Ve(n,i);s!==i&&this.add(s)}},e}(ze);function wd(t){return function(e){return e.lift(new jo(t))}}function _d(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&ct(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Ht([n].concat(t)),new jo(r))}}function Sd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Qn.apply(void 0,[r].concat(t)))}}function kc(t,e){return kr(t,e,1)}function Ed(t,e){return kc(function(){return t},e)}function Md(t){return function(e){return e.lift(new xd(t,e))}}var xd=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Cd(e,this.predicate,this.source))},t}(),Cd=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(O);function kd(t){return function(e){return e.lift(new Id(t))}}var Id=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Ad(e,this.durationSelector))},t}(),Ad=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Ve(n,new He(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(ze);function Rd(t,e){return e===void 0&&(e=lt),function(r){return r.lift(new Nd(t,e))}}var Nd=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Td(e,this.dueTime,this.scheduler))},t}(),Td=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Od,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(O);function Od(t){t.debouncedNext()}function ti(t){return t===void 0&&(t=null),function(e){return e.lift(new Ld(t))}}var Ld=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new Dd(e,this.defaultValue))},t}(),Dd=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(O);function Ic(t){return t instanceof Date&&!isNaN(+t)}function Pd(t,e){e===void 0&&(e=lt);var r=Ic(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new jd(n,e))}}var jd=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Bd(e,this.delay,this.scheduler))},t}(),Bd=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var u=Math.max(0,i[0].time-s.now());this.schedule(r,u)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Fd(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Wt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Wt.createComplete()),this.unsubscribe()},e}(O),Fd=function(){function t(e,r){this.time=e,this.notification=r}return t}();function Wd(t,e){return e?function(r){return new Hd(r,e).lift(new Aa(t))}:function(r){return r.lift(new Aa(t))}}var Aa=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new $d(e,this.delayDurationSelector))},t}(),$d=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=$t(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Rr),Hd=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new zd(r,this.source))},e}(V),zd=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(O);function Vd(){return function(e){return e.lift(new Ud)}}var Ud=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new qd(e))},t}(),qd=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(O);function Zd(t,e){return function(r){return r.lift(new Qd(t,e))}}var Qd=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new Gd(e,this.keySelector,this.flushes))},t}(),Gd=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(Ve(i,new He(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(ze);function Ac(t,e){return function(r){return r.lift(new Kd(t,e))}}var Kd=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Yd(e,this.compare,this.keySelector))},t}(),Yd=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(u){return this.destination.error(u)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(u){return this.destination.error(u)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(O);function Jd(t,e){return Ac(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function qi(t){return t===void 0&&(t=tp),function(e){return e.lift(new Xd(t))}}var Xd=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new ep(e,this.errorFactory))},t}(),ep=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(O);function tp(){return new ei}function Wo(t){return function(e){return t===0?bn():e.lift(new rp(t))}}var rp=function(){function t(e){if(this.total=e,this.total<0)throw new rn}return t.prototype.call=function(e,r){return r.subscribe(new np(e,this.total))},t}(),np=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(O);function ip(t,e){if(t<0)throw new rn;var r=arguments.length>=2;return function(n){return n.pipe(tr(function(i,s){return s===t}),Wo(1),r?ti(e):qi(function(){return new rn}))}}function sp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Qn(r,Ui.apply(void 0,t))}}function op(t,e){return function(r){return r.lift(new ap(t,e,r))}}var ap=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new up(e,this.predicate,this.thisArg,this.source))},t}(),up=function(t){C(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(O);function cp(){return function(t){return t.lift(new lp)}}var lp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new hp(e))},t}(),hp=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(Ve(r,new He(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ze);function Rc(t,e){return e?function(r){return r.pipe(Rc(function(n,i){return Ht(t(n,i)).pipe(Et(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new fp(t))}}var fp=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new dp(e,this.project))},t}(),dp=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new He(this),i=this.destination;i.add(n);var s=Ve(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ze);function pp(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new gp(t,e,r))}}var gp=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new vp(e,this.project,this.concurrent,this.scheduler))},t}(),vp=function(t){C(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var u={subscriber:this,result:o,value:r,index:i},h=this.destination;h.add(this.scheduler.schedule(e.dispatch,0,u))}}catch(f){n.error(f)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(Ve(r,new He(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(ze);function bp(t){return function(e){return e.lift(new mp(t))}}var mp=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new yp(e,this.callback))},t}(),yp=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new $e(n)),i}return e}(O);function wp(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Nc(t,r,!1,e))}}var Nc=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new _p(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),_p=function(t){C(e,t);function e(r,n,i,s,o){var u=t.call(this,r)||this;return u.predicate=n,u.source=i,u.yieldIndex=s,u.thisArg=o,u.index=0,u}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var u=i.call(s||this,r,o,this.source);u&&this.notifyComplete(this.yieldIndex?o:r)}catch(h){this.destination.error(h)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(O);function Sp(t,e){return function(r){return r.lift(new Nc(t,r,!0,e))}}function Ep(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?tr(function(i,s){return t(i,s,n)}):Xt,Wo(1),r?ti(e):qi(function(){return new ei}))}}function Mp(){return function(e){return e.lift(new xp)}}var xp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Cp(e))},t}(),Cp=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(O);function kp(){return function(t){return t.lift(new Ip)}}var Ip=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ap(e))},t}(),Ap=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(O);function Ri(t){return function(r){return t===0?bn():r.lift(new Rp(t))}}var Rp=function(){function t(e){if(this.total=e,this.total<0)throw new rn}return t.prototype.call=function(e,r){return r.subscribe(new Np(e,this.total))},t}(),Np=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var u=n++%i;r.next(s[u])}r.complete()},e}(O);function Tp(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?tr(function(i,s){return t(i,s,n)}):Xt,Ri(1),r?ti(e):qi(function(){return new ei}))}}function Op(t){return function(e){return e.lift(new Lp(t))}}var Lp=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new Dp(e,this.value))},t}(),Dp=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(O);function Pp(){return function(e){return e.lift(new jp)}}var jp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Bp(e))},t}(),Bp=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Wt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Wt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Wt.createComplete()),r.complete()},e}(O);function Ni(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Fp(t,e,r))}}var Fp=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new Wp(e,this.accumulator,this.seed,this.hasSeed))},t}(),Wp=function(t){C(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(O);function Zi(t,e){return arguments.length>=2?function(n){return co(Ni(t,e),Ri(1),ti(e))(n)}:function(n){return co(Ni(function(i,s,o){return t(i,s,o+1)}),Ri(1))(n)}}function $p(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Zi(e)}function Hp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(mc.apply(void 0,[r].concat(t)))}}function zp(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?kr(function(){return t},e,r):(typeof e=="number"&&(r=e),kr(function(){return t},r))}function Vp(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Up(t,e,r))}}var Up=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new qp(e,this.accumulator,this.seed,this.concurrent))},t}(),qp=function(t){C(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(u){return i.error(u)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new He(this),i=this.destination;i.add(n);var s=Ve(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(ze);function Zp(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Zi(e)}function Ir(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Qp(i,e));var s=Object.create(n,Ih);return s.source=n,s.subjectFactory=i,s}}var Qp=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function Gp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&ct(t[0])&&(t=t[0]),function(r){return r.lift(new Kp(t))}}var Kp=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new Yp(e,this.nextSources))},t}(),Yp=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new He(this),i=this.destination;i.add(n);var s=Ve(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(ze);function Jp(){return function(t){return t.lift(new Xp)}}var Xp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new e0(e))},t}(),e0=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(O);function t0(t,e){return function(r){return[tr(t,e)(r),tr(wc(t,e))(r)]}}function r0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Et(n0(t,r))(n)}}function n0(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function i0(t){return t?Ir(function(){return new Xe},t):Ir(new Xe)}function s0(t){return function(e){return Ir(new Xu(t))(e)}}function o0(){return function(t){return Ir(new mn)(t)}}function a0(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Po(t,e,n);return function(o){return Ir(function(){return s},i)(o)}}function u0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&ct(t[0])&&(t=t[0]),n.lift.call(_c.apply(void 0,[n].concat(t)))}}function c0(t){return t===void 0&&(t=-1),function(e){return t===0?bn():t<0?e.lift(new Ra(-1,e)):e.lift(new Ra(t-1,e))}}var Ra=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new l0(e,this.count,this.source))},t}(),l0=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(O);function h0(t){return function(e){return e.lift(new f0(t))}}var f0=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new d0(e,this.notifier,r))},t}(),d0=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Xe;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=Ve(r,new He(this))},e}(ze);function p0(t){return t===void 0&&(t=-1),function(e){return e.lift(new g0(t,e))}}var g0=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new v0(e,this.count,this.source))},t}(),v0=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(O);function b0(t){return function(e){return e.lift(new m0(t,e))}}var m0=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new y0(e,this.notifier,this.source))},t}(),y0=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Xe;try{var o=this.notifier;i=o(n)}catch(u){return t.prototype.error.call(this,u)}s=Ve(i,new He(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(ze);function w0(t){return function(e){return e.lift(new _0(t))}}var _0=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new S0(e),i=r.subscribe(n);return i.add(Ve(this.notifier,new He(n))),i},t}(),S0=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(ze);function E0(t,e){return e===void 0&&(e=lt),function(r){return r.lift(new M0(t,e))}}var M0=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new x0(e,this.period,this.scheduler))},t}(),x0=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(C0,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(O);function C0(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function k0(t,e){return function(r){return r.lift(new I0(t,e))}}var I0=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new A0(e,this.compareTo,this.comparator))},t}(),A0=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new R0(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),u=i.shift(),h=!1;try{h=s?s(o,u):o===u}catch(f){this.destination.error(f)}h||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(O),R0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(O);function N0(){return new Xe}function T0(){return function(t){return Oo()(Ir(N0)(t))}}function O0(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(L0(n))}}function L0(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,u,h=0,f,d=!1,S=!1;return function(E){h++;var x;!u||d?(d=!1,u=new Po(r,i,o),x=u.subscribe(this),f=E.subscribe({next:function(N){u.next(N)},error:function(N){d=!0,u.error(N)},complete:function(){S=!0,f=void 0,u.complete()}}),S&&(f=void 0)):x=u.subscribe(this),this.add(function(){h--,x.unsubscribe(),x=void 0,f&&!S&&s&&h===0&&(f.unsubscribe(),f=void 0,u=void 0)})}}function D0(t){return function(e){return e.lift(new P0(t,e))}}var P0=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new j0(e,this.predicate,this.source))},t}(),j0=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new ei)},e}(O);function B0(t){return function(e){return e.lift(new F0(t))}}var F0=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new W0(e,this.total))},t}(),W0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(O);function $0(t){return function(e){return e.lift(new H0(t))}}var H0=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new rn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new O(e)):r.subscribe(new z0(e,this._skipCount))},t}(),z0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,u=o[s];o[s]=r,this.destination.next(u)}},e}(O);function V0(t){return function(e){return e.lift(new U0(t))}}var U0=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new q0(e,this.notifier))},t}(),q0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new He(i);i.add(s),i.innerSubscription=s;var o=Ve(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(ze);function Z0(t){return function(e){return e.lift(new Q0(t))}}var Q0=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new G0(e,this.predicate))},t}(),G0=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(O);function K0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return pt(r)?(t.pop(),function(n){return Qn(t,n,r)}):function(n){return Qn(t,n)}}var Y0=function(t){C(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Ei);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!nn(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Ei),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Ei),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(V);function J0(t,e){return e===void 0&&(e=0),function(n){return n.lift(new X0(t,e))}}var X0=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new Y0(r,this.delay,this.scheduler).subscribe(e)},t}();function Gn(t,e){return typeof e=="function"?function(r){return r.pipe(Gn(function(n,i){return Ht(t(n,i)).pipe(Et(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new eg(t))}}var eg=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new tg(e,this.project))},t}(),tg=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new He(this),s=this.destination;s.add(i),this.innerSubscription=Ve(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(ze);function rg(){return Gn(Xt)}function ng(t,e){return e?Gn(function(){return t},e):Gn(function(){return t})}function ig(t){return function(e){return e.lift(new sg(t))}}var sg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new og(e),i=Ve(this.notifier,new He(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),og=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(ze);function ag(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new ug(t,e))}}var ug=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new cg(e,this.predicate,this.inclusive))},t}(),cg=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(O);function lg(t,e,r){return function(i){return i.lift(new hg(t,e,r))}}var hg=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new fg(e,this.nextOrObserver,this.error,this.complete))},t}(),fg=function(t){C(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=Rt,o._tapError=Rt,o._tapComplete=Rt,o._tapError=i||Rt,o._tapComplete=s||Rt,en(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Rt,o._tapError=n.error||Rt,o._tapComplete=n.complete||Rt),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(O),Tc={leading:!0,trailing:!1};function dg(t,e){return e===void 0&&(e=Tc),function(r){return r.lift(new pg(t,!!e.leading,!!e.trailing))}}var pg=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new gg(e,this.durationSelector,this.leading,this.trailing))},t}(),gg=function(t){C(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=Ve(n,new He(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(ze);function vg(t,e,r){return e===void 0&&(e=lt),r===void 0&&(r=Tc),function(n){return n.lift(new bg(t,e,r.leading,r.trailing))}}var bg=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new mg(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),mg=function(t){C(e,t);function e(r,n,i,s,o){var u=t.call(this,r)||this;return u.duration=n,u.scheduler=i,u.leading=s,u.trailing=o,u._hasTrailingValue=!1,u._trailingValue=null,u}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(yg,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(O);function yg(t){var e=t.subscriber;e.clearThrottle()}function wg(t){return t===void 0&&(t=lt),function(e){return Fo(function(){return e.pipe(Ni(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Et(function(r){var n=r.current,i=r.last,s=r.value;return new _g(s,n-i)}))})}}var _g=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Oc(t,e,r){return r===void 0&&(r=lt),function(n){var i=Ic(t),s=i?+t-r.now():Math.abs(t);return n.lift(new Sg(s,i,e,r))}}var Sg=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Eg(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Eg=function(t){C(e,t);function e(r,n,i,s,o){var u=t.call(this,r)||this;return u.absoluteTimeout=n,u.waitFor=i,u.withObservable=s,u.scheduler=o,u.scheduleTimeout(),u}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(Ve(n,new He(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(ze);function Mg(t,e){return e===void 0&&(e=lt),Oc(t,Do(new uc),e)}function xg(t){return t===void 0&&(t=lt),Et(function(e){return new Cg(e,t.now())})}var Cg=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function kg(t,e,r){return r===0?[e]:(t.push(e),t)}function Ig(){return Zi(kg,[])}function Ag(t){return function(r){return r.lift(new Rg(t))}}var Rg=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new Ng(e),i=r.subscribe(n);return i.closed||n.add(Ve(this.windowBoundaries,new He(n))),i},t}(),Ng=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Xe,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Xe;n.next(i)},e}(ze);function Tg(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Og(t,e))}}var Og=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new Lg(e,this.windowSize,this.startWindowEvery))},t}(),Lg=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Xe],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,u=o.length,h=0;h<u&&!this.closed;h++)o[h].next(r);var f=this.count-s+1;if(f>=0&&f%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var d=new Xe;o.push(d),i.next(d)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(O);function Dg(t){var e=lt,r=null,n=Number.POSITIVE_INFINITY;return pt(arguments[3])&&(e=arguments[3]),pt(arguments[2])?e=arguments[2]:nn(arguments[2])&&(n=Number(arguments[2])),pt(arguments[1])?e=arguments[1]:nn(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new Pg(t,r,n,e))}}var Pg=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Bg(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),jg=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Xe),Bg=function(t){C(e,t);function e(r,n,i,s,o){var u=t.call(this,r)||this;u.destination=r,u.windowTimeSpan=n,u.windowCreationInterval=i,u.maxWindowSize=s,u.scheduler=o,u.windows=[];var h=u.openWindow();if(i!==null&&i>=0){var f={subscriber:u,window:h,context:null},d={windowTimeSpan:n,windowCreationInterval:i,subscriber:u,scheduler:o};u.add(o.schedule(Lc,n,f)),u.add(o.schedule(Wg,i,d))}else{var S={subscriber:u,window:h,windowTimeSpan:n};u.add(o.schedule(Fg,n,S))}return u}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new jg;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(O);function Fg(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function Wg(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,u={action:o,subscription:null},h={subscriber:r,window:s,context:u};u.subscription=n.schedule(Lc,e,h),o.add(u.subscription),o.schedule(t,i)}function Lc(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function $g(t,e){return function(r){return r.lift(new Hg(t,e))}}var Hg=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new zg(e,this.openings,this.closingSelector))},t}(),zg=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=$t(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var u=void 0;try{var h=this.closingSelector;u=h(n)}catch(E){return this.error(E)}var f=new Xe,d=new $e,S={window:f,subscription:d};this.contexts.push(S);var b=$t(this,u,S);b.closed?this.closeWindow(this.contexts.length-1):(b.context=S,d.add(b)),this.destination.next(f)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Rr);function Vg(t){return function(r){return r.lift(new Ug(t))}}var Ug=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new qg(e,this.closingSelector))},t}(),qg=function(t){C(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Xe;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(u){this.destination.error(u),this.window.error(u);return}this.add(this.closingNotification=$t(this,s))},e}(Rr);function Zg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new Qg(i,n))}}var Qg=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new Gg(e,this.observables,this.project))},t}(),Gg=function(t){C(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var u=0;u<o;u++)s.toRespond.push(u);for(var u=0;u<o;u++){var h=n[u];s.add($t(s,h,void 0,u))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Rr);function Kg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Ec.apply(void 0,[n].concat(t)))}}function Yg(t){return function(e){return e.lift(new Mc(t))}}const Jg=Object.freeze(Object.defineProperty({__proto__:null,audit:xc,auditTime:Jf,buffer:Xf,bufferCount:rd,bufferTime:od,bufferToggle:hd,bufferWhen:pd,catchError:bd,combineAll:wd,combineLatest:_d,concat:Sd,concatAll:pc,concatMap:kc,concatMapTo:Ed,count:Md,debounce:kd,debounceTime:Rd,defaultIfEmpty:ti,delay:Pd,delayWhen:Wd,dematerialize:Vd,distinct:Zd,distinctUntilChanged:Ac,distinctUntilKeyChanged:Jd,elementAt:ip,endWith:sp,every:op,exhaust:cp,exhaustMap:Rc,expand:pp,filter:tr,finalize:bp,find:wp,findIndex:Sp,first:Ep,flatMap:Ef,groupBy:Rh,ignoreElements:Mp,isEmpty:kp,last:Tp,map:Et,mapTo:Op,materialize:Pp,max:$p,merge:Hp,mergeAll:Bo,mergeMap:kr,mergeMapTo:zp,mergeScan:Vp,min:Zp,multicast:Ir,observeOn:Wh,onErrorResumeNext:Gp,pairwise:Jp,partition:t0,pluck:r0,publish:i0,publishBehavior:s0,publishLast:o0,publishReplay:a0,race:u0,reduce:Zi,refCount:Oo,repeat:c0,repeatWhen:h0,retry:p0,retryWhen:b0,sample:w0,sampleTime:E0,scan:Ni,sequenceEqual:k0,share:T0,shareReplay:O0,single:D0,skip:B0,skipLast:$0,skipUntil:V0,skipWhile:Z0,startWith:K0,subscribeOn:J0,switchAll:rg,switchMap:Gn,switchMapTo:ng,take:Wo,takeLast:Ri,takeUntil:ig,takeWhile:ag,tap:lg,throttle:dg,throttleTime:vg,throwIfEmpty:qi,timeInterval:wg,timeout:Mg,timeoutWith:Oc,timestamp:xg,toArray:Ig,window:Ag,windowCount:Tg,windowTime:Dg,windowToggle:$g,windowWhen:Vg,withLatestFrom:Zg,zip:Kg,zipAll:Yg},Symbol.toStringTag,{value:"Module"})),Qi=fn(Jg);var T={};const Xg={},ev=Object.freeze(Object.defineProperty({__proto__:null,default:Xg},Symbol.toStringTag,{value:"Module"})),tv=fn(ev);var $o=typeof Map=="function"&&Map.prototype,Ds=Object.getOwnPropertyDescriptor&&$o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ti=$o&&Ds&&typeof Ds.get=="function"?Ds.get:null,rv=$o&&Map.prototype.forEach,Ho=typeof Set=="function"&&Set.prototype,Ps=Object.getOwnPropertyDescriptor&&Ho?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Oi=Ho&&Ps&&typeof Ps.get=="function"?Ps.get:null,nv=Ho&&Set.prototype.forEach,iv=typeof WeakMap=="function"&&WeakMap.prototype,Bn=iv?WeakMap.prototype.has:null,sv=typeof WeakSet=="function"&&WeakSet.prototype,Fn=sv?WeakSet.prototype.has:null,ov=typeof WeakRef=="function"&&WeakRef.prototype,Na=ov?WeakRef.prototype.deref:null,av=Boolean.prototype.valueOf,uv=Object.prototype.toString,cv=Function.prototype.toString,lv=String.prototype.match,zo=String.prototype.slice,Gt=String.prototype.replace,hv=String.prototype.toUpperCase,Ta=String.prototype.toLowerCase,Dc=RegExp.prototype.test,Oa=Array.prototype.concat,Tt=Array.prototype.join,fv=Array.prototype.slice,La=Math.floor,vo=typeof BigInt=="function"?BigInt.prototype.valueOf:null,js=Object.getOwnPropertySymbols,bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,sn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ot=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===sn||"symbol")?Symbol.toStringTag:null,Pc=Object.prototype.propertyIsEnumerable,Da=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Pa(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Dc.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-La(-t):La(t);if(n!==t){var i=String(n),s=zo.call(e,i.length+1);return Gt.call(i,r,"$&_")+"."+Gt.call(Gt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Gt.call(e,r,"$&_")}var mo=tv,ja=mo.custom,Ba=Bc(ja)?ja:null,dv=function t(e,r,n,i){var s=r||{};if(qt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(qt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=qt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(qt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(qt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Wc(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var h=String(e);return u?Pa(e,h):h}if(typeof e=="bigint"){var f=String(e)+"n";return u?Pa(e,f):f}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return yo(e)?"[Array]":"[Object]";var S=Nv(s,n);if(typeof i>"u")i=[];else if(Fc(i,e)>=0)return"[Circular]";function b(y,a,l){if(a&&(i=fv.call(i),i.push(a)),l){var p={depth:s.depth};return qt(s,"quoteStyle")&&(p.quoteStyle=s.quoteStyle),t(y,p,n+1,i)}return t(y,s,n+1,i)}if(typeof e=="function"&&!Fa(e)){var E=Sv(e),x=di(e,b);return"[Function"+(E?": "+E:" (anonymous)")+"]"+(x.length>0?" { "+Tt.call(x,", ")+" }":"")}if(Bc(e)){var N=sn?Gt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):bo.call(e);return typeof e=="object"&&!sn?Nn(N):N}if(Iv(e)){for(var R="<"+Ta.call(String(e.nodeName)),k=e.attributes||[],A=0;A<k.length;A++)R+=" "+k[A].name+"="+jc(pv(k[A].value),"double",s);return R+=">",e.childNodes&&e.childNodes.length&&(R+="..."),R+="</"+Ta.call(String(e.nodeName))+">",R}if(yo(e)){if(e.length===0)return"[]";var I=di(e,b);return S&&!Rv(I)?"["+wo(I,S)+"]":"[ "+Tt.call(I,", ")+" ]"}if(vv(e)){var L=di(e,b);return!("cause"in Error.prototype)&&"cause"in e&&!Pc.call(e,"cause")?"{ ["+String(e)+"] "+Tt.call(Oa.call("[cause]: "+b(e.cause),L),", ")+" }":L.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Tt.call(L,", ")+" }"}if(typeof e=="object"&&o){if(Ba&&typeof e[Ba]=="function"&&mo)return mo(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Ev(e)){var Z=[];return rv.call(e,function(y,a){Z.push(b(a,e,!0)+" => "+b(y,e))}),Wa("Map",Ti.call(e),Z,S)}if(Cv(e)){var D=[];return nv.call(e,function(y){D.push(b(y,e))}),Wa("Set",Oi.call(e),D,S)}if(Mv(e))return Bs("WeakMap");if(kv(e))return Bs("WeakSet");if(xv(e))return Bs("WeakRef");if(mv(e))return Nn(b(Number(e)));if(wv(e))return Nn(b(vo.call(e)));if(yv(e))return Nn(av.call(e));if(bv(e))return Nn(b(String(e)));if(!gv(e)&&!Fa(e)){var K=di(e,b),ht=Da?Da(e)===Object.prototype:e instanceof Object||e.constructor===Object,Ue=e instanceof Object?"":"null prototype",qe=!ht&&ot&&Object(e)===e&&ot in e?zo.call(ir(e),8,-1):Ue?"Object":"",H=ht||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Y=H+(qe||Ue?"["+Tt.call(Oa.call([],qe||[],Ue||[]),": ")+"] ":"");return K.length===0?Y+"{}":S?Y+"{"+wo(K,S)+"}":Y+"{ "+Tt.call(K,", ")+" }"}return String(e)};function jc(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function pv(t){return Gt.call(String(t),/"/g,"&quot;")}function yo(t){return ir(t)==="[object Array]"&&(!ot||!(typeof t=="object"&&ot in t))}function gv(t){return ir(t)==="[object Date]"&&(!ot||!(typeof t=="object"&&ot in t))}function Fa(t){return ir(t)==="[object RegExp]"&&(!ot||!(typeof t=="object"&&ot in t))}function vv(t){return ir(t)==="[object Error]"&&(!ot||!(typeof t=="object"&&ot in t))}function bv(t){return ir(t)==="[object String]"&&(!ot||!(typeof t=="object"&&ot in t))}function mv(t){return ir(t)==="[object Number]"&&(!ot||!(typeof t=="object"&&ot in t))}function yv(t){return ir(t)==="[object Boolean]"&&(!ot||!(typeof t=="object"&&ot in t))}function Bc(t){if(sn)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!bo)return!1;try{return bo.call(t),!0}catch{}return!1}function wv(t){if(!t||typeof t!="object"||!vo)return!1;try{return vo.call(t),!0}catch{}return!1}var _v=Object.prototype.hasOwnProperty||function(t){return t in this};function qt(t,e){return _v.call(t,e)}function ir(t){return uv.call(t)}function Sv(t){if(t.name)return t.name;var e=lv.call(cv.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Fc(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Ev(t){if(!Ti||!t||typeof t!="object")return!1;try{Ti.call(t);try{Oi.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Mv(t){if(!Bn||!t||typeof t!="object")return!1;try{Bn.call(t,Bn);try{Fn.call(t,Fn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function xv(t){if(!Na||!t||typeof t!="object")return!1;try{return Na.call(t),!0}catch{}return!1}function Cv(t){if(!Oi||!t||typeof t!="object")return!1;try{Oi.call(t);try{Ti.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function kv(t){if(!Fn||!t||typeof t!="object")return!1;try{Fn.call(t,Fn);try{Bn.call(t,Bn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Iv(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Wc(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Wc(zo.call(t,0,e.maxStringLength),e)+n}var i=Gt.call(Gt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Av);return jc(i,"single",e)}function Av(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+hv.call(e.toString(16))}function Nn(t){return"Object("+t+")"}function Bs(t){return t+" { ? }"}function Wa(t,e,r,n){var i=n?wo(r,n):Tt.call(r,", ");return t+" ("+e+") {"+i+"}"}function Rv(t){for(var e=0;e<t.length;e++)if(Fc(t[e],`
`)>=0)return!1;return!0}function Nv(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Tt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Tt.call(Array(e+1),r)}}function wo(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Tt.call(t,","+r)+`
`+e.prev}function di(t,e){var r=yo(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=qt(t,i)?e(t[i],t):""}var s=typeof js=="function"?js(t):[],o;if(sn){o={};for(var u=0;u<s.length;u++)o["$"+s[u]]=s[u]}for(var h in t)qt(t,h)&&(r&&String(Number(h))===h&&h<t.length||sn&&o["$"+h]instanceof Symbol||(Dc.call(/[^\w$]/,h)?n.push(e(h,t)+": "+e(t[h],t)):n.push(h+": "+e(t[h],t))));if(typeof js=="function")for(var f=0;f<s.length;f++)Pc.call(t,s[f])&&n.push("["+e(s[f])+"]: "+e(t[s[f]],t));return n}var Vo=oh,wn=ah,Tv=dv,Ov=Vo("%TypeError%"),pi=Vo("%WeakMap%",!0),gi=Vo("%Map%",!0),Lv=wn("WeakMap.prototype.get",!0),Dv=wn("WeakMap.prototype.set",!0),Pv=wn("WeakMap.prototype.has",!0),jv=wn("Map.prototype.get",!0),Bv=wn("Map.prototype.set",!0),Fv=wn("Map.prototype.has",!0),Uo=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Wv=function(t,e){var r=Uo(t,e);return r&&r.value},$v=function(t,e,r){var n=Uo(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Hv=function(t,e){return!!Uo(t,e)},zv=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Ov("Side channel does not contain "+Tv(s))},get:function(s){if(pi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Lv(e,s)}else if(gi){if(r)return jv(r,s)}else if(n)return Wv(n,s)},has:function(s){if(pi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Pv(e,s)}else if(gi){if(r)return Fv(r,s)}else if(n)return Hv(n,s);return!1},set:function(s,o){pi&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new pi),Dv(e,s,o)):gi?(r||(r=new gi),Bv(r,s,o)):(n||(n={key:{},next:null}),$v(n,s,o))}};return i},Vv=String.prototype.replace,Uv=/%20/g,Fs={RFC1738:"RFC1738",RFC3986:"RFC3986"},qo={default:Fs.RFC3986,formatters:{RFC1738:function(t){return Vv.call(t,Uv,"+")},RFC3986:function(t){return String(t)}},RFC1738:Fs.RFC1738,RFC3986:Fs.RFC3986},qv=qo,Ws=Object.prototype.hasOwnProperty,_r=Array.isArray,It=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Zv=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(_r(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},$c=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Qv=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(_r(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Ws.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return _r(e)&&!_r(r)&&(i=$c(e,n)),_r(e)&&_r(r)?(r.forEach(function(s,o){if(Ws.call(e,o)){var u=e[o];u&&typeof u=="object"&&s&&typeof s=="object"?e[o]=t(u,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var u=r[o];return Ws.call(s,o)?s[o]=t(s[o],u,n):s[o]=u,s},i)},Gv=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Kv=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Yv=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var u="",h=0;h<o.length;++h){var f=o.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===qv.RFC1738&&(f===40||f===41)){u+=o.charAt(h);continue}if(f<128){u=u+It[f];continue}if(f<2048){u=u+(It[192|f>>6]+It[128|f&63]);continue}if(f<55296||f>=57344){u=u+(It[224|f>>12]+It[128|f>>6&63]+It[128|f&63]);continue}h+=1,f=65536+((f&1023)<<10|o.charCodeAt(h)&1023),u+=It[240|f>>18]+It[128|f>>12&63]+It[128|f>>6&63]+It[128|f&63]}return u},Jv=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],u=Object.keys(o),h=0;h<u.length;++h){var f=u[h],d=o[f];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:f}),n.push(d))}return Zv(r),e},Xv=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},e1=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},t1=function(e,r){return[].concat(e,r)},r1=function(e,r){if(_r(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Hc={arrayToObject:$c,assign:Gv,combine:t1,compact:Jv,decode:Kv,encode:Yv,isBuffer:e1,isRegExp:Xv,maybeMap:r1,merge:Qv},zc=zv,_o=Hc,Wn=qo,n1=Object.prototype.hasOwnProperty,$a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Bt=Array.isArray,i1=String.prototype.split,s1=Array.prototype.push,Vc=function(t,e){s1.apply(t,Bt(e)?e:[e])},o1=Date.prototype.toISOString,Ha=Wn.default,et={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:_o.encode,encodeValuesOnly:!1,format:Ha,formatter:Wn.formatters[Ha],indices:!1,serializeDate:function(e){return o1.call(e)},skipNulls:!1,strictNullHandling:!1},a1=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},$s={},u1=function t(e,r,n,i,s,o,u,h,f,d,S,b,E,x,N,R){for(var k=e,A=R,I=0,L=!1;(A=A.get($s))!==void 0&&!L;){var Z=A.get(e);if(I+=1,typeof Z<"u"){if(Z===I)throw new RangeError("Cyclic object value");L=!0}typeof A.get($s)>"u"&&(I=0)}if(typeof h=="function"?k=h(r,k):k instanceof Date?k=S(k):n==="comma"&&Bt(k)&&(k=_o.maybeMap(k,function(_){return _ instanceof Date?S(_):_})),k===null){if(s)return u&&!x?u(r,et.encoder,N,"key",b):r;k=""}if(a1(k)||_o.isBuffer(k)){if(u){var D=x?r:u(r,et.encoder,N,"key",b);if(n==="comma"&&x){for(var K=i1.call(String(k),","),ht="",Ue=0;Ue<K.length;++Ue)ht+=(Ue===0?"":",")+E(u(K[Ue],et.encoder,N,"value",b));return[E(D)+(i&&Bt(k)&&K.length===1?"[]":"")+"="+ht]}return[E(D)+"="+E(u(k,et.encoder,N,"value",b))]}return[E(r)+"="+E(String(k))]}var qe=[];if(typeof k>"u")return qe;var H;if(n==="comma"&&Bt(k))H=[{value:k.length>0?k.join(",")||null:void 0}];else if(Bt(h))H=h;else{var Y=Object.keys(k);H=f?Y.sort(f):Y}for(var y=i&&Bt(k)&&k.length===1?r+"[]":r,a=0;a<H.length;++a){var l=H[a],p=typeof l=="object"&&typeof l.value<"u"?l.value:k[l];if(!(o&&p===null)){var v=Bt(k)?typeof n=="function"?n(y,l):y:y+(d?"."+l:"["+l+"]");R.set(e,I);var w=zc();w.set($s,R),Vc(qe,t(p,v,n,i,s,o,u,h,f,d,S,b,E,x,N,w))}}return qe},c1=function(e){if(!e)return et;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||et.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Wn.default;if(typeof e.format<"u"){if(!n1.call(Wn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Wn.formatters[n],s=et.filter;return(typeof e.filter=="function"||Bt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:et.addQueryPrefix,allowDots:typeof e.allowDots>"u"?et.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:et.charsetSentinel,delimiter:typeof e.delimiter>"u"?et.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:et.encode,encoder:typeof e.encoder=="function"?e.encoder:et.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:et.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:et.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:et.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:et.strictNullHandling}},l1=function(t,e){var r=t,n=c1(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Bt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var u;e&&e.arrayFormat in $a?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var h=$a[u];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=h==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=zc(),S=0;S<i.length;++S){var b=i[S];n.skipNulls&&r[b]===null||Vc(o,u1(r[b],b,h,f,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var E=o.join(n.delimiter),x=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),E.length>0?x+E:""},on=Hc,So=Object.prototype.hasOwnProperty,h1=Array.isArray,Ye={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:on.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},f1=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Uc=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},d1="utf8=%26%2310003%3B",p1="utf8=%E2%9C%93",g1=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),u=-1,h,f=r.charset;if(r.charsetSentinel)for(h=0;h<o.length;++h)o[h].indexOf("utf8=")===0&&(o[h]===p1?f="utf-8":o[h]===d1&&(f="iso-8859-1"),u=h,h=o.length);for(h=0;h<o.length;++h)if(h!==u){var d=o[h],S=d.indexOf("]="),b=S===-1?d.indexOf("="):S+1,E,x;b===-1?(E=r.decoder(d,Ye.decoder,f,"key"),x=r.strictNullHandling?null:""):(E=r.decoder(d.slice(0,b),Ye.decoder,f,"key"),x=on.maybeMap(Uc(d.slice(b+1),r),function(N){return r.decoder(N,Ye.decoder,f,"value")})),x&&r.interpretNumericEntities&&f==="iso-8859-1"&&(x=f1(x)),d.indexOf("[]=")>-1&&(x=h1(x)?[x]:x),So.call(n,E)?n[E]=on.combine(n[E],x):n[E]=x}return n},v1=function(t,e,r,n){for(var i=n?e:Uc(e,r),s=t.length-1;s>=0;--s){var o,u=t[s];if(u==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,f=parseInt(h,10);!r.parseArrays&&h===""?o={0:i}:!isNaN(f)&&u!==h&&String(f)===h&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=i):h!=="__proto__"&&(o[h]=i)}i=o}return i},b1=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,h=n.depth>0&&o.exec(s),f=h?s.slice(0,h.index):s,d=[];if(f){if(!n.plainObjects&&So.call(Object.prototype,f)&&!n.allowPrototypes)return;d.push(f)}for(var S=0;n.depth>0&&(h=u.exec(s))!==null&&S<n.depth;){if(S+=1,!n.plainObjects&&So.call(Object.prototype,h[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(h[1])}return h&&d.push("["+s.slice(h.index)+"]"),v1(d,r,n,i)}},m1=function(e){if(!e)return Ye;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Ye.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Ye.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ye.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ye.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ye.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ye.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ye.comma,decoder:typeof e.decoder=="function"?e.decoder:Ye.decoder,delimiter:typeof e.delimiter=="string"||on.isRegExp(e.delimiter)?e.delimiter:Ye.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ye.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ye.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ye.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ye.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ye.strictNullHandling}},y1=function(t,e){var r=m1(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?g1(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var u=s[o],h=b1(u,n[u],r,typeof t=="string");i=on.merge(i,h,r)}return r.allowSparse===!0?i:on.compact(i)},w1=l1,_1=y1,S1=qo,E1={formats:S1,parse:_1,stringify:w1},ri={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(ri);var M1=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(T,"__esModule",{value:!0});T.isInIFrame=T.createQrUrl=T.getFavicon=T.range=T.isBigNumber=T.ensureParsedJSONObject=T.ensureBN=T.ensureRegExpString=T.ensureIntNumber=T.ensureBuffer=T.ensureAddressString=T.ensureEvenLengthHexString=T.ensureHexString=T.isHexString=T.prepend0x=T.strip0x=T.has0xPrefix=T.hexStringFromIntNumber=T.intNumberFromHexString=T.bigIntStringFromBN=T.hexStringFromBuffer=T.hexStringToUint8Array=T.uint8ArrayToHex=T.randomBytesHex=void 0;const Qt=M1(Xr),x1=E1,St=ri,qc=/^[0-9]*$/,Zc=/^[a-f0-9]*$/;function C1(t){return Qc(crypto.getRandomValues(new Uint8Array(t)))}T.randomBytesHex=C1;function Qc(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}T.uint8ArrayToHex=Qc;function k1(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}T.hexStringToUint8Array=k1;function I1(t,e=!1){const r=t.toString("hex");return(0,St.HexString)(e?"0x"+r:r)}T.hexStringFromBuffer=I1;function A1(t){return(0,St.BigIntString)(t.toString(10))}T.bigIntStringFromBN=A1;function R1(t){return(0,St.IntNumber)(new Qt.default(ii(t,!1),16).toNumber())}T.intNumberFromHexString=R1;function N1(t){return(0,St.HexString)("0x"+new Qt.default(t).toString(16))}T.hexStringFromIntNumber=N1;function Zo(t){return t.startsWith("0x")||t.startsWith("0X")}T.has0xPrefix=Zo;function Gi(t){return Zo(t)?t.slice(2):t}T.strip0x=Gi;function Gc(t){return Zo(t)?"0x"+t.slice(2):"0x"+t}T.prepend0x=Gc;function ni(t){if(typeof t!="string")return!1;const e=Gi(t).toLowerCase();return Zc.test(e)}T.isHexString=ni;function Kc(t,e=!1){if(typeof t=="string"){const r=Gi(t).toLowerCase();if(Zc.test(r))return(0,St.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}T.ensureHexString=Kc;function ii(t,e=!1){let r=Kc(t,!1);return r.length%2===1&&(r=(0,St.HexString)("0"+r)),e?(0,St.HexString)("0x"+r):r}T.ensureEvenLengthHexString=ii;function T1(t){if(typeof t=="string"){const e=Gi(t).toLowerCase();if(ni(e)&&e.length===40)return(0,St.AddressString)(Gc(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}T.ensureAddressString=T1;function O1(t){if(q.isBuffer(t))return t;if(typeof t=="string")if(ni(t)){const e=ii(t,!1);return q.from(e,"hex")}else return q.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}T.ensureBuffer=O1;function Yc(t){if(typeof t=="number"&&Number.isInteger(t))return(0,St.IntNumber)(t);if(typeof t=="string"){if(qc.test(t))return(0,St.IntNumber)(Number(t));if(ni(t))return(0,St.IntNumber)(new Qt.default(ii(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}T.ensureIntNumber=Yc;function L1(t){if(t instanceof RegExp)return(0,St.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}T.ensureRegExpString=L1;function D1(t){if(t!==null&&(Qt.default.isBN(t)||Jc(t)))return new Qt.default(t.toString(10),10);if(typeof t=="number")return new Qt.default(Yc(t));if(typeof t=="string"){if(qc.test(t))return new Qt.default(t,10);if(ni(t))return new Qt.default(ii(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}T.ensureBN=D1;function P1(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}T.ensureParsedJSONObject=P1;function Jc(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}T.isBigNumber=Jc;function j1(t,e){return Array.from({length:e-t},(r,n)=>t+n)}T.range=j1;function B1(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}T.getFavicon=B1;function F1(t,e,r,n,i,s){const o=n?"parent-id":"id",u=(0,x1.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${u}`}T.createQrUrl=F1;function W1(){try{return window.frameElement!==null}catch{return!1}}T.isInIFrame=W1;Object.defineProperty(gn,"__esModule",{value:!0});gn.Session=void 0;const $1=yn,za=Qi,Va=uh,Ua=T,Hs="session:id",qa="session:secret",Za="session:linked";class Qo{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Ua.randomBytesHex)(16),this._secret=n||(0,Ua.randomBytesHex)(32),this._key=new Va.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Hs),n=e.getItem(Za),i=e.getItem(qa);return r&&i?new Qo(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,$1.fromEvent)(window,"storage").pipe((0,za.filter)(e=>e.key===Hs),(0,za.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new Va.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Hs,this._id),this._storage.setItem(qa,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Za,this._linked?"1":"0")}}gn.Session=Qo;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.WalletSDKRelayAbstract=kt.APP_VERSION_KEY=kt.LOCAL_STORAGE_ADDRESSES_KEY=kt.WALLET_USER_NAME_KEY=void 0;const Qa=zi;kt.WALLET_USER_NAME_KEY="walletUsername";kt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";kt.APP_VERSION_KEY="AppVersion";class H1{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Qa.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Qa.serializeError)(s);return i})}}kt.WalletSDKRelayAbstract=H1;const{Transform:z1}=Wu();var V1=t=>class Xc extends z1{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!q.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return q.isBuffer(r)||(r=q.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Xc(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:U1}=Wu();var q1=t=>class el extends U1{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!q.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return q.isBuffer(r)||(r=q.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new el(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Z1=V1,Q1=q1;var G1=function(t){const e=Z1(t),r=Q1(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},tl={};const Ga=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];tl.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],d=t[8]^t[18]^t[28]^t[38]^t[48],S=t[9]^t[19]^t[29]^t[39]^t[49];let b=d^(i<<1|s>>>31),E=S^(s<<1|i>>>31);const x=t[0]^b,N=t[1]^E,R=t[10]^b,k=t[11]^E,A=t[20]^b,I=t[21]^E,L=t[30]^b,Z=t[31]^E,D=t[40]^b,K=t[41]^E;b=r^(o<<1|u>>>31),E=n^(u<<1|o>>>31);const ht=t[2]^b,Ue=t[3]^E,qe=t[12]^b,H=t[13]^E,Y=t[22]^b,y=t[23]^E,a=t[32]^b,l=t[33]^E,p=t[42]^b,v=t[43]^E;b=i^(h<<1|f>>>31),E=s^(f<<1|h>>>31);const w=t[4]^b,_=t[5]^E,M=t[14]^b,g=t[15]^E,c=t[24]^b,m=t[25]^E,B=t[34]^b,P=t[35]^E,F=t[44]^b,Qe=t[45]^E;b=o^(d<<1|S>>>31),E=u^(S<<1|d>>>31);const X=t[6]^b,ee=t[7]^E,Mn=t[16]^b,Ie=t[17]^E,Ae=t[26]^b,xn=t[27]^E,Re=t[36]^b,Ne=t[37]^E,Cn=t[46]^b,Te=t[47]^E;b=h^(r<<1|n>>>31),E=f^(n<<1|r>>>31);const Oe=t[8]^b,kn=t[9]^E,Le=t[18]^b,De=t[19]^E,In=t[28]^b,Pe=t[29]^E,je=t[38]^b,An=t[39]^E,Be=t[48]^b,Fe=t[49]^E,Tr=x,te=N,re=k<<4|R>>>28,Or=R<<4|k>>>28,ne=A<<3|I>>>29,ie=I<<3|A>>>29,Lr=Z<<9|L>>>23,se=L<<9|Z>>>23,oe=D<<18|K>>>14,Dr=K<<18|D>>>14,ae=ht<<1|Ue>>>31,ue=Ue<<1|ht>>>31,Pr=H<<12|qe>>>20,ce=qe<<12|H>>>20,le=Y<<10|y>>>22,jr=y<<10|Y>>>22,he=l<<13|a>>>19,fe=a<<13|l>>>19,Br=p<<2|v>>>30,de=v<<2|p>>>30,pe=_<<30|w>>>2,Fr=w<<30|_>>>2,ge=M<<6|g>>>26,ve=g<<6|M>>>26,Wr=m<<11|c>>>21,be=c<<11|m>>>21,me=B<<15|P>>>17,$r=P<<15|B>>>17,ye=Qe<<29|F>>>3,we=F<<29|Qe>>>3,Hr=X<<28|ee>>>4,_e=ee<<28|X>>>4,Se=Ie<<23|Mn>>>9,zr=Mn<<23|Ie>>>9,Ee=Ae<<25|xn>>>7,Me=xn<<25|Ae>>>7,sr=Re<<21|Ne>>>11,or=Ne<<21|Re>>>11,ar=Te<<24|Cn>>>8,ur=Cn<<24|Te>>>8,cr=Oe<<27|kn>>>5,lr=kn<<27|Oe>>>5,hr=Le<<20|De>>>12,fr=De<<20|Le>>>12,dr=Pe<<7|In>>>25,pr=In<<7|Pe>>>25,gr=je<<8|An>>>24,vr=An<<8|je>>>24,br=Be<<14|Fe>>>18,mr=Fe<<14|Be>>>18;t[0]=Tr^~Pr&Wr,t[1]=te^~ce&be,t[10]=Hr^~hr&ne,t[11]=_e^~fr&ie,t[20]=ae^~ge&Ee,t[21]=ue^~ve&Me,t[30]=cr^~re&le,t[31]=lr^~Or&jr,t[40]=pe^~Se&dr,t[41]=Fr^~zr&pr,t[2]=Pr^~Wr&sr,t[3]=ce^~be&or,t[12]=hr^~ne&he,t[13]=fr^~ie&fe,t[22]=ge^~Ee&gr,t[23]=ve^~Me&vr,t[32]=re^~le&me,t[33]=Or^~jr&$r,t[42]=Se^~dr&Lr,t[43]=zr^~pr&se,t[4]=Wr^~sr&br,t[5]=be^~or&mr,t[14]=ne^~he&ye,t[15]=ie^~fe&we,t[24]=Ee^~gr&oe,t[25]=Me^~vr&Dr,t[34]=le^~me&ar,t[35]=jr^~$r&ur,t[44]=dr^~Lr&Br,t[45]=pr^~se&de,t[6]=sr^~br&Tr,t[7]=or^~mr&te,t[16]=he^~ye&Hr,t[17]=fe^~we&_e,t[26]=gr^~oe&ae,t[27]=vr^~Dr&ue,t[36]=me^~ar&cr,t[37]=$r^~ur&lr,t[46]=Lr^~Br&pe,t[47]=se^~de&Fr,t[8]=br^~Tr&Pr,t[9]=mr^~te&ce,t[18]=ye^~Hr&hr,t[19]=we^~_e&fr,t[28]=oe^~ae&ge,t[29]=Dr^~ue&ve,t[38]=ar^~cr&re,t[39]=ur^~lr&Or,t[48]=Br^~pe&Se,t[49]=de^~Fr&zr,t[0]^=Ga[e*2],t[1]^=Ga[e*2+1]}};const Li=tl;function _n(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}_n.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};_n.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Li.p1600(this.state),this.count=0)};_n.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Li.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Li.p1600(this.state),this.count=0,this.squeezing=!0};_n.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=q.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Li.p1600(this.state),this.count=0);return e};_n.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var K1=_n,Y1=G1(K1);const J1=Y1,X1=Xr;function rl(t){return q.allocUnsafe(t).fill(0)}function nl(t,e,r){const n=rl(e);return t=Ki(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function eb(t,e){return nl(t,e,!0)}function Ki(t){if(!q.isBuffer(t))if(Array.isArray(t))t=q.from(t);else if(typeof t=="string")il(t)?t=q.from(nb(sl(t)),"hex"):t=q.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=q.allocUnsafe(0);else if(X1.isBN(t))t=t.toArrayLike(q);else if(t.toArray)t=q.from(t.toArray());else throw new Error("invalid type");return t}function tb(t){return t=Ki(t),"0x"+t.toString("hex")}function rb(t,e){return t=Ki(t),e||(e=256),J1("keccak"+e).update(t).digest()}function nb(t){return t.length%2?"0"+t:t}function il(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function sl(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var ol={zeros:rl,setLength:nl,setLengthRight:eb,isHexString:il,stripHexPrefix:sl,toBuffer:Ki,bufferToHex:tb,keccak:rb};const Ar=ol,xr=Xr;function al(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Kr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Ka(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function ul(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Sr(t){var e=typeof t;if(e==="string")return Ar.isHexString(t)?new xr(Ar.stripHexPrefix(t),16):new xr(t,10);if(e==="number")return new xr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Nt(t,e){var r,n,i,s;if(t==="address")return Nt("uint160",Sr(e));if(t==="bool")return Nt("uint8",e?1:0);if(t==="string")return Nt("bytes",new q(e,"utf8"));if(sb(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=ul(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Nt(t,e[s]));if(r==="dynamic"){var o=Nt("uint256",e.length);i.unshift(o)}return q.concat(i)}else{if(t==="bytes")return e=new q(e),i=q.concat([Nt("uint256",e.length),e]),e.length%32!==0&&(i=q.concat([i,Ar.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Kr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Ar.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Kr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Sr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(q,"be",32)}else if(t.startsWith("int")){if(r=Kr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Sr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(q,"be",32)}else if(t.startsWith("ufixed")){if(r=Ka(t),n=Sr(e),n<0)throw new Error("Supplied ufixed is negative");return Nt("uint256",n.mul(new xr(2).pow(new xr(r[1]))))}else if(t.startsWith("fixed"))return r=Ka(t),Nt("int256",Sr(e).mul(new xr(2).pow(new xr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function ib(t){return t==="string"||t==="bytes"||ul(t)==="dynamic"}function sb(t){return t.lastIndexOf("]")===t.length-1}function ob(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=al(t[s]),u=e[s],h=Nt(o,u);ib(o)?(r.push(Nt("uint256",i)),n.push(h),i+=h.length):r.push(h)}return q.concat(r.concat(n))}function cl(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=al(t[s]),u=e[s];if(o==="bytes")i.push(u);else if(o==="string")i.push(new q(u,"utf8"));else if(o==="bool")i.push(new q(u?"01":"00","hex"));else if(o==="address")i.push(Ar.setLength(u,20));else if(o.startsWith("bytes")){if(r=Kr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Ar.setLengthRight(u,r))}else if(o.startsWith("uint")){if(r=Kr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Sr(u),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(q,"be",r/8))}else if(o.startsWith("int")){if(r=Kr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Sr(u),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(q,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return q.concat(i)}function ab(t,e){return Ar.keccak(cl(t,e))}var ub={rawEncode:ob,solidityPack:cl,soliditySHA3:ab};const xt=ol,$n=ub,ll={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},zs={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(u,h,f)=>{if(r[h]!==void 0)return["bytes32",f==null?"0x0000000000000000000000000000000000000000000000000000000000000000":xt.keccak(this.encodeData(h,f,r,n))];if(f===void 0)throw new Error(`missing value for field ${u} of type ${h}`);if(h==="bytes")return["bytes32",xt.keccak(f)];if(h==="string")return typeof f=="string"&&(f=q.from(f,"utf8")),["bytes32",xt.keccak(f)];if(h.lastIndexOf("]")===h.length-1){const d=h.slice(0,h.lastIndexOf("[")),S=f.map(b=>o(u,d,b));return["bytes32",xt.keccak($n.rawEncode(S.map(([b])=>b),S.map(([,b])=>b)))]}return[h,f]};for(const u of r[t]){const[h,f]=o(u.name,u.type,e[u.name]);i.push(h),s.push(f)}}else for(const o of r[t]){let u=e[o.name];if(u!==void 0)if(o.type==="bytes")i.push("bytes32"),u=xt.keccak(u),s.push(u);else if(o.type==="string")i.push("bytes32"),typeof u=="string"&&(u=q.from(u,"utf8")),u=xt.keccak(u),s.push(u);else if(r[o.type]!==void 0)i.push("bytes32"),u=xt.keccak(this.encodeData(o.type,u,r,n)),s.push(u);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(u)}}return $n.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:u})=>u+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return xt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return xt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in ll.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[q.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),xt.keccak(q.concat(n))}};var cb={TYPED_MESSAGE_SCHEMA:ll,TypedDataUtils:zs,hashForSignTypedDataLegacy:function(t){return lb(t.data)},hashForSignTypedData_v3:function(t){return zs.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return zs.hash(t.data)}};function lb(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?xt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return $n.soliditySHA3(["bytes32","bytes32"],[$n.soliditySHA3(new Array(t.length).fill("string"),i),$n.soliditySHA3(n,r)])}var an={};Object.defineProperty(an,"__esModule",{value:!0});an.filterFromParam=an.FilterPolyfill=void 0;const qr=ri,ut=T,hb=5*60*1e3,Er={jsonrpc:"2.0",id:0};class fb{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,qr.IntNumber)(1),this.provider=e}async newFilter(e){const r=hl(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,ut.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,ut.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,ut.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,ut.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,ut.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(vi())}async getFilterLogs(e){const r=(0,ut.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Er),{method:"eth_getLogs",params:[Ya(n)]})):vi()}makeFilterId(){return(0,qr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return vi();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return bi();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Er),{method:"eth_getLogs",params:[Ya(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const u=o.result.map(f=>(0,ut.intNumberFromHexString)(f.blockNumber||"0x0")),h=Math.max(...u);if(h&&h>n){const f=(0,qr.IntNumber)(h+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${f}`),this.cursors.set(e,f)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return vi();const n=await this.getCurrentBlockHeight();if(r>n)return bi();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,ut.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,qr.IntNumber)(o))))).filter(o=>!!o),s=(0,qr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Er),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(bi())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},hb);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Er),{method:"eth_blockNumber",params:[]}));return(0,ut.intNumberFromHexString)((0,ut.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Er),{method:"eth_getBlockByNumber",params:[(0,ut.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,ut.ensureHexString)(r.result.hash):null}}an.FilterPolyfill=fb;function hl(t){return{fromBlock:Ja(t.fromBlock),toBlock:Ja(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}an.filterFromParam=hl;function Ya(t){const e={fromBlock:Xa(t.fromBlock),toBlock:Xa(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Ja(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,qr.IntNumber)(0);if((0,ut.isHexString)(t))return(0,ut.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Xa(t){return t==="latest"?t:(0,ut.hexStringFromIntNumber)(t)}function vi(){return Object.assign(Object.assign({},Er),{error:{code:-32e3,message:"filter not found"}})}function bi(){return Object.assign(Object.assign({},Er),{result:[]})}var fl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(fl);var Yi={};const eu=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,u){if(e.multiArgs){const h=new Array(arguments.length-1);for(let f=1;f<arguments.length;f++)h[f-1]=arguments[f];o?(h.unshift(o),s(h)):i(h)}else o?s(o):i(u)}):n.push(function(o){if(e.multiArgs){const u=new Array(arguments.length-1);for(let h=0;h<arguments.length;h++)u[h]=arguments[h];i(u)}else i(o)}),t.apply(this,n)})};var db=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):eu(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?eu(s,e):s}return n},pb=vb,gb=Object.prototype.hasOwnProperty;function vb(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)gb.call(r,n)&&(t[n]=r[n])}return t}var bb=mb;function mb(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const yb=pb,wb=bb();var _b=W;function W(t){const e=this;e.currentProvider=t}W.prototype.getBalance=si(2,"eth_getBalance");W.prototype.getCode=si(2,"eth_getCode");W.prototype.getTransactionCount=si(2,"eth_getTransactionCount");W.prototype.getStorageAt=si(3,"eth_getStorageAt");W.prototype.call=si(2,"eth_call");W.prototype.protocolVersion=U("eth_protocolVersion");W.prototype.syncing=U("eth_syncing");W.prototype.coinbase=U("eth_coinbase");W.prototype.mining=U("eth_mining");W.prototype.hashrate=U("eth_hashrate");W.prototype.gasPrice=U("eth_gasPrice");W.prototype.accounts=U("eth_accounts");W.prototype.blockNumber=U("eth_blockNumber");W.prototype.getBlockTransactionCountByHash=U("eth_getBlockTransactionCountByHash");W.prototype.getBlockTransactionCountByNumber=U("eth_getBlockTransactionCountByNumber");W.prototype.getUncleCountByBlockHash=U("eth_getUncleCountByBlockHash");W.prototype.getUncleCountByBlockNumber=U("eth_getUncleCountByBlockNumber");W.prototype.sign=U("eth_sign");W.prototype.sendTransaction=U("eth_sendTransaction");W.prototype.sendRawTransaction=U("eth_sendRawTransaction");W.prototype.estimateGas=U("eth_estimateGas");W.prototype.getBlockByHash=U("eth_getBlockByHash");W.prototype.getBlockByNumber=U("eth_getBlockByNumber");W.prototype.getTransactionByHash=U("eth_getTransactionByHash");W.prototype.getTransactionByBlockHashAndIndex=U("eth_getTransactionByBlockHashAndIndex");W.prototype.getTransactionByBlockNumberAndIndex=U("eth_getTransactionByBlockNumberAndIndex");W.prototype.getTransactionReceipt=U("eth_getTransactionReceipt");W.prototype.getUncleByBlockHashAndIndex=U("eth_getUncleByBlockHashAndIndex");W.prototype.getUncleByBlockNumberAndIndex=U("eth_getUncleByBlockNumberAndIndex");W.prototype.getCompilers=U("eth_getCompilers");W.prototype.compileLLL=U("eth_compileLLL");W.prototype.compileSolidity=U("eth_compileSolidity");W.prototype.compileSerpent=U("eth_compileSerpent");W.prototype.newFilter=U("eth_newFilter");W.prototype.newBlockFilter=U("eth_newBlockFilter");W.prototype.newPendingTransactionFilter=U("eth_newPendingTransactionFilter");W.prototype.uninstallFilter=U("eth_uninstallFilter");W.prototype.getFilterChanges=U("eth_getFilterChanges");W.prototype.getFilterLogs=U("eth_getFilterLogs");W.prototype.getLogs=U("eth_getLogs");W.prototype.getWork=U("eth_getWork");W.prototype.submitWork=U("eth_submitWork");W.prototype.submitHashrate=U("eth_submitHashrate");W.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(Sb(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function U(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function si(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function Sb(t){return yb({id:wb(),jsonrpc:"2.0",params:[]},t)}const Eb=ch,dl=Fu;var Vs=typeof Reflect=="object"?Reflect:null,Mb=Vs&&typeof Vs.apply=="function"?Vs.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},xb=Go;function Go(){dl.call(this)}Eb.inherits(Go,dl);Go.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var u=i[t];if(u===void 0)return!1;if(typeof u=="function")tu(u,this,e);else for(var h=u.length,f=Cb(u,h),r=0;r<h;++r)tu(f[r],this,e);return!0};function tu(t,e,r){try{Mb(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Cb(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const kb=xb,Ib=1e3,Ab=(t,e)=>t+e,ru=["sync","latest"];let Rb=class extends kb{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*Ib,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){ru.includes(e)&&this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return ru.map(e=>this.listenerCount(e)).reduce(Ab)}_newPotentialLatest(e){const r=this._currentBlock;r&&nu(e)<=nu(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};var Nb=Rb;function nu(t){return Number.parseInt(t,16)}const Tb=db,Ob=Nb,Lb=1e3;let Db=class extends Ob{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*Lb,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await iu(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await iu(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await Tb(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}};var Pb=Db;function iu(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Di={},jb={get exports(){return Di},set exports(t){Di=t}},Bb=function(e){return(r,n,i,s)=>{const o=e[r.method];return o===void 0?i():typeof o=="function"?o(r,n,i,s):(n.result=o,s())}};(function(t){t.exports=Bb})(jb);var Ko={},Ji={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.getUniqueId=void 0;const pl=4294967295;let Us=Math.floor(Math.random()*pl);function Fb(){return Us=(Us+1)%pl,Us}oi.getUniqueId=Fb;Object.defineProperty(Ji,"__esModule",{value:!0});Ji.createIdRemapMiddleware=void 0;const Wb=oi;function $b(){return(t,e,r,n)=>{const i=t.id,s=Wb.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Ji.createIdRemapMiddleware=$b;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.createAsyncMiddleware=void 0;function Hb(t){return async(e,r,n,i)=>{let s;const o=new Promise(d=>{s=d});let u=null,h=!1;const f=async()=>{h=!0,n(d=>{u=d,s()}),await o};try{await t(e,r,f),h?(await o,u(null)):i(null)}catch(d){u?u(d):i(d)}}}Xi.createAsyncMiddleware=Hb;var es={};Object.defineProperty(es,"__esModule",{value:!0});es.createScaffoldMiddleware=void 0;function zb(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}es.createScaffoldMiddleware=zb;var ai={},gl={},rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.EthereumProviderError=rr.EthereumRpcError=void 0;const Vb=$u;class vl extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Vb.default(this.serialize(),Zb,2)}}rr.EthereumRpcError=vl;class Ub extends vl{constructor(e,r,n){if(!qb(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}rr.EthereumProviderError=Ub;function qb(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Zb(t,e){if(e!=="[Circular]")return e}var Yo={},nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.errorValues=nr.errorCodes=void 0;nr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};nr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=nr,r=rr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(b,E=i){if(Number.isInteger(b)){const x=b.toString();if(S(e.errorValues,x))return e.errorValues[x].message;if(f(b))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return E}t.getMessageFromCode=o;function u(b){if(!Number.isInteger(b))return!1;const E=b.toString();return!!(e.errorValues[E]||f(b))}t.isValidCode=u;function h(b,{fallbackError:E=s,shouldIncludeStack:x=!1}={}){var N,R;if(!E||!Number.isInteger(E.code)||typeof E.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(b instanceof r.EthereumRpcError)return b.serialize();const k={};if(b&&typeof b=="object"&&!Array.isArray(b)&&S(b,"code")&&u(b.code)){const I=b;k.code=I.code,I.message&&typeof I.message=="string"?(k.message=I.message,S(I,"data")&&(k.data=I.data)):(k.message=o(k.code),k.data={originalError:d(b)})}else{k.code=E.code;const I=(N=b)===null||N===void 0?void 0:N.message;k.message=I&&typeof I=="string"?I:E.message,k.data={originalError:d(b)}}const A=(R=b)===null||R===void 0?void 0:R.stack;return x&&b&&A&&typeof A=="string"&&(k.stack=A),k}t.serializeError=h;function f(b){return b>=-32099&&b<=-32e3}function d(b){return b&&typeof b=="object"&&!Array.isArray(b)?Object.assign({},b):b}function S(b,E){return Object.prototype.hasOwnProperty.call(b,E)}})(Yo);var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.ethErrors=void 0;const Jo=rr,bl=Yo,nt=nr;ts.ethErrors={rpc:{parse:t=>bt(nt.errorCodes.rpc.parse,t),invalidRequest:t=>bt(nt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>bt(nt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>bt(nt.errorCodes.rpc.methodNotFound,t),internal:t=>bt(nt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return bt(e,t)},invalidInput:t=>bt(nt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>bt(nt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>bt(nt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>bt(nt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>bt(nt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>bt(nt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Tn(nt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Tn(nt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Tn(nt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Tn(nt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Tn(nt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Jo.EthereumProviderError(e,r,n)}}};function bt(t,e){const[r,n]=ml(e);return new Jo.EthereumRpcError(t,r||bl.getMessageFromCode(t),n)}function Tn(t,e){const[r,n]=ml(e);return new Jo.EthereumProviderError(t,r||bl.getMessageFromCode(t),n)}function ml(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=rr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Yo;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=ts;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=nr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(gl);var Qb=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});ai.JsonRpcEngine=void 0;const Gb=Qb(dn),mt=gl;class jt extends Gb.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,u]=await jt._runAllMiddleware(e,r,this._middleware);return o?(await jt._runReturnHandlers(u),i(s)):n(async h=>{try{await jt._runReturnHandlers(u)}catch(f){return h(f)}return h()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new mt.EthereumRpcError(mt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new mt.EthereumRpcError(mt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=mt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await jt._runAllMiddleware(e,r,this._middleware);if(jt._checkForCompletion(e,r,i),await jt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const u of n)if([s,o]=await jt._runMiddleware(e,r,u,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=h=>{const f=h||r.error;f&&(r.error=mt.serializeError(f)),s([f,!0])},u=h=>{r.error?o(r.error):(h&&(typeof h!="function"&&o(new mt.EthereumRpcError(mt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof h}" for request:
${qs(e)}`,{request:e})),i.push(h)),s([null,!1]))};try{n(e,r,u,o)}catch(h){o(h)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new mt.EthereumRpcError(mt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${qs(e)}`,{request:e});if(!n)throw new mt.EthereumRpcError(mt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${qs(e)}`,{request:e})}}ai.JsonRpcEngine=jt;function qs(t){return JSON.stringify(t,null,2)}var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.mergeMiddleware=void 0;const Kb=ai;function Yb(t){const e=new Kb.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}rs.mergeMiddleware=Yb;(function(t){var e=G&&G.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=G&&G.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ji,t),r(Xi,t),r(es,t),r(oi,t),r(ai,t),r(rs,t)})(Ko);var yl={},Xo={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});var su=ko,Jb=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return su.__awaiter(this,void 0,void 0,function(){var r,n,i;return su.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();ns.default=Jb;Object.defineProperty(Xo,"__esModule",{value:!0});var ou=ko,Xb=ns,em=function(){function t(){this._semaphore=new Xb.default(1)}return t.prototype.acquire=function(){return ou.__awaiter(this,void 0,void 0,function(){var e,r;return ou.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Xo.default=em;var is={};Object.defineProperty(is,"__esModule",{value:!0});is.withTimeout=void 0;var mi=ko;function tm(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return mi.__awaiter(n,void 0,void 0,function(){var o,u,h;return mi.__generator(this,function(f){switch(f.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return u=f.sent(),o?(h=Array.isArray(u)?u[1]:u,h()):i(u),[2]}})})})},runExclusive:function(i){return mi.__awaiter(this,void 0,void 0,function(){var s,o;return mi.__generator(this,function(u){switch(u.label){case 0:s=function(){},u.label=1;case 1:return u.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=u.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,u.sent()];case 4:return s=o,[4,i()];case 5:return[2,u.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}is.withTimeout=tm;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Xo;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=ns;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=is;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(yl);const au=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,u)=>{e.multiArgs?i.push((...f)=>{e.errorFirst?f[0]?u(f):(f.shift(),o(f)):o(f)}):e.errorFirst?i.push((f,d)=>{f?u(f):o(d)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},uu=new WeakMap;var rm=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,u)=>{let h=uu.get(o);if(h||(h={},uu.set(o,h)),u in h)return h[u];const f=x=>typeof x=="string"||typeof u=="symbol"?u===x:x.test(u),d=Reflect.getOwnPropertyDescriptor(o,u),S=d===void 0||d.writable||d.configurable,E=(e.include?e.include.some(f):!e.exclude.some(f))&&S;return h[u]=E,E},i=new WeakMap,s=new Proxy(t,{apply(o,u,h){const f=i.get(o);if(f)return Reflect.apply(f,u,h);const d=e.excludeMain?o:au(o,e,s,o);return i.set(o,d),Reflect.apply(d,u,h)},get(o,u){const h=o[u];if(!n(o,u)||h===Function.prototype[u])return h;const f=i.get(h);if(f)return f;if(typeof h=="function"){const d=au(h,e,s,o);return i.set(h,d),d}return h}});return s};const nm=dn.default;let im=class extends nm{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var ea=im;const sm=ea;let om=class extends sm{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var am=om,ui={minBlockRef:um,maxBlockRef:cm,sortBlockRefs:ta,bnToHex:lm,blockRefIsNumber:hm,hexToInt:Pi,incrementHexInt:fm,intToHex:wl,unsafeRandomBytes:dm};function um(...t){return ta(t)[0]}function cm(...t){const e=ta(t);return e[e.length-1]}function ta(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Pi(e)-Pi(r))}function lm(t){return"0x"+t.toString(16)}function hm(t){return t&&!["earliest","latest","pending"].includes(t)}function Pi(t){return t==null?t:Number.parseInt(t,16)}function fm(t){if(t==null)return t;const e=Pi(t);return wl(e+1)}function wl(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function dm(t){let e="0x";for(let r=0;r<t;r++)e+=cu(),e+=cu();return e}function cu(){return Math.floor(Math.random()*16).toString(16)}const pm=_b,gm=rm,vm=am,{bnToHex:T_,hexToInt:yi,incrementHexInt:bm,minBlockRef:mm,blockRefIsNumber:ym}=ui;let wm=class extends vm{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new pm(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=mm(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=bm(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),u=(await this._fetchLogs(s)).filter(h=>this.matchLog(h));this.addResults(u)}async _fetchLogs(e){return await gm(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(yi(this.params.fromBlock)>=yi(e.blockNumber)||ym(this.params.toBlock)&&yi(this.params.toBlock)<=yi(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let u=Array.isArray(i)?i:[i];return u.includes(null)?!0:(u=u.map(d=>d.toLowerCase()),u.includes(o))})}};var _m=wm,ra=Sm;async function Sm({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=lu(e),s=lu(r)-n+1,o=Array(s).fill().map((h,f)=>n+f).map(Em);return await Promise.all(o.map(h=>Mm(t,"eth_getBlockByNumber",[h,!1])))}function lu(t){return t==null?t:Number.parseInt(t,16)}function Em(t){return t==null?t:"0x"+t.toString(16)}function Mm(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(s,o)=>{if(s)return i(s);n(o.result)})})}const xm=ea,Cm=ra,{incrementHexInt:km}=ui;let Im=class extends xm{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=km(e),o=(await Cm({provider:this.provider,fromBlock:i,toBlock:n})).map(u=>u.hash);this.addResults(o)}};var Am=Im;const Rm=ea,Nm=ra,{incrementHexInt:Tm}=ui;let Om=class extends Rm{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=Tm(e),i=await Nm({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var Lm=Om;const Dm=yl.Mutex,{createAsyncMiddleware:Pm}=Ko,jm=Di,Bm=_m,Fm=Am,Wm=Lm,{intToHex:_l,hexToInt:Zs}=ui;var $m=Hm;function Hm({blockTracker:t,provider:e}){let r=0,n={};const i=new Dm,s=zm({mutex:i}),o=jm({eth_newFilter:s(Qs(h)),eth_newBlockFilter:s(Qs(f)),eth_newPendingTransactionFilter:s(Qs(d)),eth_uninstallFilter:s(Mi(E)),eth_getFilterChanges:s(Mi(S)),eth_getFilterLogs:s(Mi(b))}),u=async({oldBlock:A,newBlock:I})=>{if(n.length===0)return;const L=await i.acquire();try{await Promise.all(Vr(n).map(async Z=>{try{await Z.update({oldBlock:A,newBlock:I})}catch(D){console.error(D)}}))}catch(Z){console.error(Z)}L()};return o.newLogFilter=h,o.newBlockFilter=f,o.newPendingTransactionFilter=d,o.uninstallFilter=E,o.getFilterChanges=S,o.getFilterLogs=b,o.destroy=()=>{R()},o;async function h(A){const I=new Bm({provider:e,params:A});return await x(I),I}async function f(){const A=new Fm({provider:e});return await x(A),A}async function d(){const A=new Wm({provider:e});return await x(A),A}async function S(A){const I=Zs(A),L=n[I];if(!L)throw new Error(`No filter for index "${I}"`);return L.getChangesAndClear()}async function b(A){const I=Zs(A),L=n[I];if(!L)throw new Error(`No filter for index "${I}"`);return L.type==="log"?results=L.getAllResults():results=[],results}async function E(A){const I=Zs(A),L=n[I],Z=Boolean(L);return Z&&await N(I),Z}async function x(A){const I=Vr(n).length,L=await t.getLatestBlock();await A.initialize({currentBlock:L}),r++,n[r]=A,A.id=r,A.idHex=_l(r);const Z=Vr(n).length;return k({prevFilterCount:I,newFilterCount:Z}),r}async function N(A){const I=Vr(n).length;delete n[A];const L=Vr(n).length;k({prevFilterCount:I,newFilterCount:L})}async function R(){const A=Vr(n).length;n={},k({prevFilterCount:A,newFilterCount:0})}function k({prevFilterCount:A,newFilterCount:I}){if(A===0&&I>0){t.on("sync",u);return}if(A>0&&I===0){t.removeListener("sync",u);return}}}function Qs(t){return Mi(async(...e)=>{const r=await t(...e);return _l(r.id)})}function Mi(t){return Pm(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function zm({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Vr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const Vm=dn.default,Um=Di,{createAsyncMiddleware:hu}=Ko,qm=$m,{unsafeRandomBytes:Zm,incrementHexInt:Qm}=ui,Gm=ra;var Km=Ym;function Ym({blockTracker:t,provider:e}){const r={},n=qm({blockTracker:t,provider:e});let i=!1;const s=new Vm,o=Um({eth_subscribe:hu(u),eth_unsubscribe:hu(h)});return o.destroy=d,{events:s,middleware:o};async function u(S,b){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const E=S.params[0],x=Zm(16);let N;switch(E){case"newHeads":N=R({subId:x});break;case"logs":const A=S.params[1],I=await n.newLogFilter(A);N=k({subId:x,filter:I});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${E}"`)}r[x]=N,b.result=x;return;function R({subId:A}){const I={type:E,destroy:async()=>{t.removeListener("sync",I.update)},update:async({oldBlock:L,newBlock:Z})=>{const D=Z,K=Qm(L);(await Gm({provider:e,fromBlock:K,toBlock:D})).map(Jm).forEach(qe=>{f(A,qe)})}};return t.on("sync",I.update),I}function k({subId:A,filter:I}){return I.on("update",Z=>f(A,Z)),{type:E,destroy:async()=>await n.uninstallFilter(I.idHex)}}}async function h(S,b){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const E=S.params[0],x=r[E];if(!x){b.result=!1;return}delete r[E],await x.destroy(),b.result=!0}function f(S,b){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:S,result:b}})}function d(){s.removeAllListeners();for(const S in r)r[S].destroy(),delete r[S];i=!0}}function Jm(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Yi,"__esModule",{value:!0});Yi.SubscriptionManager=void 0;const Xm=Pb,ey=Km,fu=()=>{};class ty{constructor(e){const r=new Xm({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=ey({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,fu,fu),r}destroy(){this.subscriptionMiddleware.destroy()}}Yi.SubscriptionManager=ty;var na=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.CoinbaseWalletProvider=void 0;const ry=na(dn),ny=na(Xr),it=zi,Gs=pn,du=gn,pu=kt,z=T,Ks=na(cb),iy=an,J=fl,sy=Yi,gu="DefaultChainId",vu="DefaultJsonRpcUrl";class oy extends ry.default{constructor(e){var r,n;super(),this._filterPolyfill=new iy.FilterPolyfill(this),this._subscriptionManager=new sy.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,z.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(pu.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const u=o.split(" ");u[0]!==""&&(this._addresses=u.map(h=>(0,z.ensureAddressString)(h)),this.emit("accountsChanged",u))}this._subscriptionManager.events.on("notification",u=>{this.emit("message",{type:u.method,data:u.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",u=>{var h;if(!(u.origin!==location.origin||u.source!==window)&&u.data.type==="walletLinkMessage"){if(u.data.data.action==="defaultChainChanged"||u.data.data.action==="dappChainSwitched"){const f=u.data.data.chainId,d=(h=u.data.data.jsonRpcUrl)!==null&&h!==void 0?h:this.jsonRpcUrl;this.updateProviderInfo(d,Number(f))}u.data.data.action==="addressChanged"&&this._setAddresses([u.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,z.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(vu))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(vu,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(gu,r.toString(10)),((0,z.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var u,h;if((0,z.ensureIntNumber)(e)===this.getChainId())return!1;const f=await this.initializeRelay(),d=f.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!d&&await f.requestEthereumAccounts().promise;const S=await f.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((u=S.result)===null||u===void 0?void 0:u.isApproved)===!0&&this.updateProviderInfo(r[0],e),((h=S.result)===null||h===void 0?void 0:h.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw it.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Gs.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?du.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(J.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(u=>u.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw it.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw it.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw it.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,z.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,z.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(pu.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(u=>r(Object.assign(Object.assign({},u),{id:e.id}))).catch(u=>n(u));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(u=>r({jsonrpc:"2.0",id:e.id,result:u.result})).catch(u=>n(u));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case J.JSONRPCMethod.eth_accounts:return this._eth_accounts();case J.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case J.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case J.JSONRPCMethod.net_version:return this._net_version();case J.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case J.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case J.JSONRPCMethod.eth_sign:return this._eth_sign(n);case J.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case J.JSONRPCMethod.personal_sign:return this._personal_sign(n);case J.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case J.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case J.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case J.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case J.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case J.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case J.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case J.JSONRPCMethod.eth_signTypedData_v4:case J.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case J.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case J.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case J.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case J.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case J.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case J.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case J.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case J.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case J.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case J.JSONRPCMethod.eth_subscribe:case J.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,z.ensureAddressString)(e);return this._addresses.map(i=>(0,z.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Gs.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,z.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,z.ensureAddressString)(e.to):null,i=e.value!=null?(0,z.ensureBN)(e.value):new ny.default(0),s=e.data?(0,z.ensureBuffer)(e.data):q.alloc(0),o=e.nonce!=null?(0,z.ensureIntNumber)(e.nonce):null,u=e.gasPrice!=null?(0,z.ensureBN)(e.gasPrice):null,h=e.maxFeePerGas!=null?(0,z.ensureBN)(e.maxFeePerGas):null,f=e.maxPriorityFeePerGas!=null?(0,z.ensureBN)(e.maxPriorityFeePerGas):null,d=e.gas!=null?(0,z.ensureBN)(e.gas):null,S=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:u,maxFeePerGas:h,maxPriorityFeePerGas:f,gasLimit:d,chainId:S}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw it.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw it.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?it.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,z.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(gu);if(!e)return(0,z.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,z.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Gs.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?du.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?it.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,z.ensureAddressString)(e[0]),n=(0,z.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,z.ensureBuffer)(e[0]),n=(0,z.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,z.ensureBuffer)(e[0]),n=(0,z.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,z.ensureBuffer)(e[0]),n=(0,z.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?it.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,z.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?it.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,z.ensureParsedJSONObject)(e[0]),n=(0,z.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Ks.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,z.ensureAddressString)(e[0]),n=(0,z.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ks.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,z.ensureAddressString)(e[0]),n=(0,z.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ks.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw it.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw it.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const u=parseInt(o.chainId,16);return await this.addEthereumChain(u,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw it.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw it.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw it.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw it.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:u}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,u,o,n)}}_eth_uninstallFilter(e){const r=(0,z.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,z.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,z.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Jr.CoinbaseWalletProvider=oy;var ss={},os={},ci,$,Sl,El,Hn,bu,Ml,ji={},xl=[],ay=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ft(t,e){for(var r in e)t[r]=e[r];return t}function Cl(t){var e=t.parentNode;e&&e.removeChild(t)}function Eo(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?ci.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return zn(t,o,n,i,null)}function zn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Sl};return i==null&&$.vnode!=null&&$.vnode(s),s}function uy(){return{current:null}}function li(t){return t.children}function Vn(t,e){this.props=t,this.context=e}function un(t,e){if(e==null)return t.__?un(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?un(t):null}function kl(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return kl(t)}}function Mo(t){(!t.__d&&(t.__d=!0)&&Hn.push(t)&&!Bi.__r++||bu!==$.debounceRendering)&&((bu=$.debounceRendering)||setTimeout)(Bi)}function Bi(){for(var t;Bi.__r=Hn.length;)t=Hn.sort(function(e,r){return e.__v.__b-r.__v.__b}),Hn=[],t.some(function(e){var r,n,i,s,o,u;e.__d&&(o=(s=(r=e).__v).__e,(u=r.__P)&&(n=[],(i=Ft({},s)).__v=s.__v+1,ia(u,s,i,r.__n,u.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o??un(s),s.__h),Tl(n,s),s.__e!=o&&kl(s)))})}function Il(t,e,r,n,i,s,o,u,h,f){var d,S,b,E,x,N,R,k=n&&n.__k||xl,A=k.length;for(r.__k=[],d=0;d<e.length;d++)if((E=r.__k[d]=(E=e[d])==null||typeof E=="boolean"?null:typeof E=="string"||typeof E=="number"||typeof E=="bigint"?zn(null,E,null,null,E):Array.isArray(E)?zn(li,{children:E},null,null,null):E.__b>0?zn(E.type,E.props,E.key,null,E.__v):E)!=null){if(E.__=r,E.__b=r.__b+1,(b=k[d])===null||b&&E.key==b.key&&E.type===b.type)k[d]=void 0;else for(S=0;S<A;S++){if((b=k[S])&&E.key==b.key&&E.type===b.type){k[S]=void 0;break}b=null}ia(t,E,b=b||ji,i,s,o,u,h,f),x=E.__e,(S=E.ref)&&b.ref!=S&&(R||(R=[]),b.ref&&R.push(b.ref,null,E),R.push(S,E.__c||x,E)),x!=null?(N==null&&(N=x),typeof E.type=="function"&&E.__k===b.__k?E.__d=h=Al(E,h,t):h=Nl(t,E,b,k,x,h),typeof r.type=="function"&&(r.__d=h)):h&&b.__e==h&&h.parentNode!=t&&(h=un(b))}for(r.__e=N,d=A;d--;)k[d]!=null&&(typeof r.type=="function"&&k[d].__e!=null&&k[d].__e==r.__d&&(r.__d=un(n,d+1)),Ll(k[d],k[d]));if(R)for(d=0;d<R.length;d++)Ol(R[d],R[++d],R[++d])}function Al(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?Al(n,e,r):Nl(r,n,n,i,n.__e,e));return e}function Rl(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Rl(r,e)}):e.push(t)),e}function Nl(t,e,r,n,i,s){var o,u,h;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(u=s,h=0;(u=u.nextSibling)&&h<n.length;h+=2)if(u==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function cy(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||Fi(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||Fi(t,s,e[s],r[s],n)}function mu(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||ay.test(e)?r:r+"px"}function Fi(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||mu(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||mu(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?wu:yu,s):t.removeEventListener(e,s?wu:yu,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function yu(t){this.l[t.type+!1]($.event?$.event(t):t)}function wu(t){this.l[t.type+!0]($.event?$.event(t):t)}function ia(t,e,r,n,i,s,o,u,h){var f,d,S,b,E,x,N,R,k,A,I,L,Z,D=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(h=r.__h,u=e.__e=r.__e,e.__h=null,s=[u]),(f=$.__b)&&f(e);try{e:if(typeof D=="function"){if(R=e.props,k=(f=D.contextType)&&n[f.__c],A=f?k?k.props.value:f.__:n,r.__c?N=(d=e.__c=r.__c).__=d.__E:("prototype"in D&&D.prototype.render?e.__c=d=new D(R,A):(e.__c=d=new Vn(R,A),d.constructor=D,d.render=hy),k&&k.sub(d),d.props=R,d.state||(d.state={}),d.context=A,d.__n=n,S=d.__d=!0,d.__h=[]),d.__s==null&&(d.__s=d.state),D.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Ft({},d.__s)),Ft(d.__s,D.getDerivedStateFromProps(R,d.__s))),b=d.props,E=d.state,S)D.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(D.getDerivedStateFromProps==null&&R!==b&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(R,A),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(R,d.__s,A)===!1||e.__v===r.__v){d.props=R,d.state=d.__s,e.__v!==r.__v&&(d.__d=!1),d.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(K){K&&(K.__=e)}),d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(R,d.__s,A),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(b,E,x)})}if(d.context=A,d.props=R,d.__v=e,d.__P=t,I=$.__r,L=0,"prototype"in D&&D.prototype.render)d.state=d.__s,d.__d=!1,I&&I(e),f=d.render(d.props,d.state,d.context);else do d.__d=!1,I&&I(e),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++L<25);d.state=d.__s,d.getChildContext!=null&&(n=Ft(Ft({},n),d.getChildContext())),S||d.getSnapshotBeforeUpdate==null||(x=d.getSnapshotBeforeUpdate(b,E)),Z=f!=null&&f.type===li&&f.key==null?f.props.children:f,Il(t,Array.isArray(Z)?Z:[Z],e,r,n,i,s,o,u,h),d.base=e.__e,e.__h=null,d.__h.length&&o.push(d),N&&(d.__E=d.__=null),d.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=ly(r.__e,e,r,n,i,s,o,h);(f=$.diffed)&&f(e)}catch(K){e.__v=null,(h||s!=null)&&(e.__e=u,e.__h=!!h,s[s.indexOf(u)]=null),$.__e(K,e,r)}}function Tl(t,e){$.__c&&$.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){$.__e(n,r.__v)}})}function ly(t,e,r,n,i,s,o,u){var h,f,d,S=r.props,b=e.props,E=e.type,x=0;if(E==="svg"&&(i=!0),s!=null){for(;x<s.length;x++)if((h=s[x])&&"setAttribute"in h==!!E&&(E?h.localName===E:h.nodeType===3)){t=h,s[x]=null;break}}if(t==null){if(E===null)return document.createTextNode(b);t=i?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,b.is&&b),s=null,u=!1}if(E===null)S===b||u&&t.data===b||(t.data=b);else{if(s=s&&ci.call(t.childNodes),f=(S=r.props||ji).dangerouslySetInnerHTML,d=b.dangerouslySetInnerHTML,!u){if(s!=null)for(S={},x=0;x<t.attributes.length;x++)S[t.attributes[x].name]=t.attributes[x].value;(d||f)&&(d&&(f&&d.__html==f.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(cy(t,b,S,i,u),d)e.__k=[];else if(x=e.props.children,Il(t,Array.isArray(x)?x:[x],e,r,n,i&&E!=="foreignObject",s,o,s?s[0]:r.__k&&un(r,0),u),s!=null)for(x=s.length;x--;)s[x]!=null&&Cl(s[x]);u||("value"in b&&(x=b.value)!==void 0&&(x!==t.value||E==="progress"&&!x||E==="option"&&x!==S.value)&&Fi(t,"value",x,S.value,!1),"checked"in b&&(x=b.checked)!==void 0&&x!==t.checked&&Fi(t,"checked",x,S.checked,!1))}return t}function Ol(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){$.__e(n,r)}}function Ll(t,e,r){var n,i;if($.unmount&&$.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Ol(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){$.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Ll(n[i],e,typeof t.type!="function");r||t.__e==null||Cl(t.__e),t.__e=t.__d=void 0}function hy(t,e,r){return this.constructor(t,r)}function Dl(t,e,r){var n,i,s;$.__&&$.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],ia(e,t=(!n&&r||e).__k=Eo(li,null,[t]),i||ji,ji,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?ci.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Tl(s,t)}function Pl(t,e){Dl(t,e,Pl)}function fy(t,e,r){var n,i,s,o=Ft({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?ci.call(arguments,2):r),zn(t.type,o,n||t.key,i||t.ref,null)}function dy(t,e){var r={__c:e="__cC"+Ml++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(Mo)},this.sub=function(o){i.push(o);var u=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),u&&u.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}ci=xl.slice,$={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(u){t=u}throw t}},Sl=0,El=function(t){return t!=null&&t.constructor===void 0},Vn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ft({},this.state),typeof t=="function"&&(t=t(Ft({},r),this.props)),t&&Ft(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),Mo(this))},Vn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Mo(this))},Vn.prototype.render=li,Hn=[],Bi.__r=0,Ml=0;const py=Object.freeze(Object.defineProperty({__proto__:null,Component:Vn,Fragment:li,cloneElement:fy,createContext:dy,createElement:Eo,createRef:uy,h:Eo,hydrate:Pl,get isValidElement(){return El},get options(){return $},render:Dl,toChildArray:Rl},Symbol.toStringTag,{value:"Module"})),gt=fn(py);var as={};function jl(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=jl(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function _u(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=jl(t))&&(n&&(n+=" "),n+=e);return n}const gy=Object.freeze(Object.defineProperty({__proto__:null,clsx:_u,default:_u},Symbol.toStringTag,{value:"Module"})),us=fn(gy);var Nr,ke,Ys,Su,cn=0,Bl=[],xi=[],Eu=$.__b,Mu=$.__r,xu=$.diffed,Cu=$.__c,ku=$.unmount;function Sn(t,e){$.__h&&$.__h(ke,t,cn||e),cn=0;var r=ke.__H||(ke.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:xi}),r.__[t]}function Fl(t){return cn=1,Wl(Hl,t)}function Wl(t,e,r){var n=Sn(Nr++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Hl(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],u=n.t(o,s);o!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=ke,!ke.u)){ke.u=!0;var i=ke.shouldComponentUpdate;ke.shouldComponentUpdate=function(s,o,u){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(f){return f.__c});return h.every(function(f){return!f.__N})?!i||i.call(this,s,o,u):!h.every(function(f){if(!f.__N)return!0;var d=f.__[0];return f.__=f.__N,f.__N=void 0,d===f.__[0]})&&(!i||i.call(this,s,o,u))}}return n.__N||n.__}function vy(t,e){var r=Sn(Nr++,3);!$.__s&&oa(r.__H,e)&&(r.__=t,r.i=e,ke.__H.__h.push(r))}function $l(t,e){var r=Sn(Nr++,4);!$.__s&&oa(r.__H,e)&&(r.__=t,r.i=e,ke.__h.push(r))}function by(t){return cn=5,sa(function(){return{current:t}},[])}function my(t,e,r){cn=6,$l(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function sa(t,e){var r=Sn(Nr++,7);return oa(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function yy(t,e){return cn=8,sa(function(){return t},e)}function wy(t){var e=ke.context[t.__c],r=Sn(Nr++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(ke)),e.props.value):t.__}function _y(t,e){$.useDebugValue&&$.useDebugValue(e?e(t):t)}function Sy(t){var e=Sn(Nr++,10),r=Fl();return e.__=t,ke.componentDidCatch||(ke.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Ey(){for(var t;t=Bl.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ci),t.__H.__h.forEach(xo),t.__H.__h=[]}catch(e){t.__H.__h=[],$.__e(e,t.__v)}}$.__b=function(t){ke=null,Eu&&Eu(t)},$.__r=function(t){Mu&&Mu(t),Nr=0;var e=(ke=t.__c).__H;e&&(Ys===ke?(e.__h=[],ke.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=xi,r.__N=r.i=void 0})):(e.__h.forEach(Ci),e.__h.forEach(xo),e.__h=[])),Ys=ke},$.diffed=function(t){xu&&xu(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Bl.push(e)!==1&&Su===$.requestAnimationFrame||((Su=$.requestAnimationFrame)||function(r){var n,i=function(){clearTimeout(s),Iu&&cancelAnimationFrame(n),setTimeout(r)},s=setTimeout(i,100);Iu&&(n=requestAnimationFrame(i))})(Ey)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==xi&&(r.__=r.__V),r.i=void 0,r.__V=xi})),Ys=ke=null},$.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Ci),r.__h=r.__h.filter(function(n){return!n.__||xo(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],$.__e(n,r.__v)}}),Cu&&Cu(t,e)},$.unmount=function(t){ku&&ku(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Ci(n)}catch(i){e=i}}),e&&$.__e(e,r.__v))};var Iu=typeof requestAnimationFrame=="function";function Ci(t){var e=ke,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),ke=e}function xo(t){var e=ke;t.__c=t.__(),ke=e}function oa(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Hl(t,e){return typeof e=="function"?e(t):e}const My=Object.freeze(Object.defineProperty({__proto__:null,useCallback:yy,useContext:wy,useDebugValue:_y,useEffect:vy,useErrorBoundary:Sy,useImperativeHandle:my,useLayoutEffect:$l,useMemo:sa,useReducer:Wl,useRef:by,useState:Fl},Symbol.toStringTag,{value:"Module"})),hi=fn(My);var Lt={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.LIB_VERSION=void 0;cs.LIB_VERSION="3.6.3";var ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.CloseIcon=void 0;const Au=gt;function xy(t){return(0,Au.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Au.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ls.CloseIcon=xy;var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.QRCodeIcon=void 0;const At=gt;function Cy(t){return(0,At.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,At.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,At.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,At.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,At.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,At.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,At.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,At.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,At.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,At.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}hs.QRCodeIcon=Cy;var ca={};Object.defineProperty(ca,"__esModule",{value:!0});const ky=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;ca.default=ky;var la={};Object.defineProperty(la,"__esModule",{value:!0});la.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.StatusDotIcon=void 0;const Ru=gt;function Iy(t){return(0,Ru.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ru.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}fs.StatusDotIcon=Iy;var ds={};function zl(t){this.mode=dt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}zl.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Dt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Dt.prototype={addData:function(t){var e=new zl(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Dt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=We.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,u=0;u<this.modules[s].length;u++){var h=u*i,f=this.modules[s][u];f&&(n.beginFill(0,100),n.moveTo(h,o),n.lineTo(h+i,o),n.lineTo(h+i,o+i),n.lineTo(h,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=We.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=We.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=We.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var u=0;u<2;u++)if(this.modules[n][o-u]==null){var h=!1;s<t.length&&(h=(t[s]>>>i&1)==1);var f=We.getMask(e,n,o-u);f&&(h=!h),this.modules[n][o-u]=h,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Dt.PAD0=236;Dt.PAD1=17;Dt.createData=function(t,e,r){for(var n=Ot.getRSBlocks(t,e),i=new Vl,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),We.getLengthInBits(o.mode,t)),o.write(i)}for(var u=0,s=0;s<n.length;s++)u+=n[s].dataCount;if(i.getLengthInBits()>u*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+u*8+")");for(i.getLengthInBits()+4<=u*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=u*8||(i.put(Dt.PAD0,8),i.getLengthInBits()>=u*8));)i.put(Dt.PAD1,8);return Dt.createBytes(i,n)};Dt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),u=0;u<e.length;u++){var h=e[u].dataCount,f=e[u].totalCount-h;n=Math.max(n,h),i=Math.max(i,f),s[u]=new Array(h);for(var d=0;d<s[u].length;d++)s[u][d]=255&t.buffer[d+r];r+=h;var S=We.getErrorCorrectPolynomial(f),b=new Yr(s[u],S.getLength()-1),E=b.mod(S);o[u]=new Array(S.getLength()-1);for(var d=0;d<o[u].length;d++){var x=d+E.getLength()-o[u].length;o[u][d]=x>=0?E.get(x):0}}for(var N=0,d=0;d<e.length;d++)N+=e[d].totalCount;for(var R=new Array(N),k=0,d=0;d<n;d++)for(var u=0;u<e.length;u++)d<s[u].length&&(R[k++]=s[u][d]);for(var d=0;d<i;d++)for(var u=0;u<e.length;u++)d<o[u].length&&(R[k++]=o[u][d]);return R};var dt={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Kt={L:1,M:0,Q:3,H:2},zt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},We={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;We.getBCHDigit(e)-We.getBCHDigit(We.G15)>=0;)e^=We.G15<<We.getBCHDigit(e)-We.getBCHDigit(We.G15);return(t<<10|e)^We.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;We.getBCHDigit(e)-We.getBCHDigit(We.G18)>=0;)e^=We.G18<<We.getBCHDigit(e)-We.getBCHDigit(We.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return We.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case zt.PATTERN000:return(e+r)%2==0;case zt.PATTERN001:return e%2==0;case zt.PATTERN010:return r%3==0;case zt.PATTERN011:return(e+r)%3==0;case zt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case zt.PATTERN101:return e*r%2+e*r%3==0;case zt.PATTERN110:return(e*r%2+e*r%3)%2==0;case zt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Yr([1],0),r=0;r<t;r++)e=e.multiply(new Yr([1,Je.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case dt.MODE_NUMBER:return 10;case dt.MODE_ALPHA_NUM:return 9;case dt.MODE_8BIT_BYTE:return 8;case dt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case dt.MODE_NUMBER:return 12;case dt.MODE_ALPHA_NUM:return 11;case dt.MODE_8BIT_BYTE:return 16;case dt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case dt.MODE_NUMBER:return 14;case dt.MODE_ALPHA_NUM:return 13;case dt.MODE_8BIT_BYTE:return 16;case dt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),u=-1;u<=1;u++)if(!(n+u<0||e<=n+u))for(var h=-1;h<=1;h++)i+h<0||e<=i+h||u==0&&h==0||o==t.isDark(n+u,i+h)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var f=0;t.isDark(n,i)&&f++,t.isDark(n+1,i)&&f++,t.isDark(n,i+1)&&f++,t.isDark(n+1,i+1)&&f++,(f==0||f==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var d=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&d++;var S=Math.abs(100*d/e/e-50)/5;return r+=S*10,r}},Je={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Je.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Je.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var tt=0;tt<8;tt++)Je.EXP_TABLE[tt]=1<<tt;for(var tt=8;tt<256;tt++)Je.EXP_TABLE[tt]=Je.EXP_TABLE[tt-4]^Je.EXP_TABLE[tt-5]^Je.EXP_TABLE[tt-6]^Je.EXP_TABLE[tt-8];for(var tt=0;tt<255;tt++)Je.LOG_TABLE[Je.EXP_TABLE[tt]]=tt;function Yr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Yr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Je.gexp(Je.glog(this.get(r))+Je.glog(t.get(n)));return new Yr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Je.glog(this.get(0))-Je.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Je.gexp(Je.glog(t.get(n))+e);return new Yr(r,0).mod(t)}};function Ot(t,e){this.totalCount=t,this.dataCount=e}Ot.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Ot.getRSBlocks=function(t,e){var r=Ot.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],u=r[s*3+1],h=r[s*3+2],f=0;f<o;f++)i.push(new Ot(u,h));return i};Ot.getRsBlockTable=function(t,e){switch(e){case Kt.L:return Ot.RS_BLOCK_TABLE[(t-1)*4+0];case Kt.M:return Ot.RS_BLOCK_TABLE[(t-1)*4+1];case Kt.Q:return Ot.RS_BLOCK_TABLE[(t-1)*4+2];case Kt.H:return Ot.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Vl(){this.buffer=[],this.length=0}Vl.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Js=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Ul(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(h){switch(h){case"L":return Kt.L;case"M":return Kt.M;case"Q":return Kt.Q;case"H":return Kt.H;default:throw new Error("Unknwon error correction level: "+h)}}function n(h,f){for(var d=i(h),S=1,b=0,E=0,x=Js.length;E<=x;E++){var N=Js[E];if(!N)throw new Error("Content too long: expected "+b+" but got "+d);switch(f){case"L":b=N[0];break;case"M":b=N[1];break;case"Q":b=N[2];break;case"H":b=N[3];break;default:throw new Error("Unknwon error correction level: "+f)}if(d<=b)break;S++}if(S>Js.length)throw new Error("Content too long");return S}function i(h){var f=encodeURI(h).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return f.length+(f.length!=h?3:0)}var s=this.options.content,o=n(s,this.options.ecl),u=r(this.options.ecl);this.qrcode=new Dt(o,u),this.qrcode.addData(s),this.qrcode.make()}Ul.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,u=e.height,h=r.length,f=o/(h+2*e.padding),d=u/(h+2*e.padding),S=typeof e.join<"u"?!!e.join:!1,b=typeof e.swap<"u"?!!e.swap:!1,E=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,x=typeof e.predefined<"u"?!!e.predefined:!1,N=x?i+'<defs><path id="qrmodule" d="M0 0 h'+d+" v"+f+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",R=i+'<rect x="0" y="0" width="'+o+'" height="'+u+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,k="",A="",I=0;I<h;I++)for(var L=0;L<h;L++){var Z=r[L][I];if(Z){var D=L*f+e.padding*f,K=I*d+e.padding*d;if(b){var ht=D;D=K,K=ht}if(S){var Ue=f+D,qe=d+K;D=Number.isInteger(D)?Number(D):D.toFixed(2),K=Number.isInteger(K)?Number(K):K.toFixed(2),Ue=Number.isInteger(Ue)?Number(Ue):Ue.toFixed(2),qe=Number.isInteger(qe)?Number(qe):qe.toFixed(2),A+="M"+D+","+K+" V"+qe+" H"+Ue+" V"+K+" H"+D+" Z "}else x?k+=i+'<use x="'+D.toString()+'" y="'+K.toString()+'" href="#qrmodule" />'+s:k+=i+'<rect x="'+D.toString()+'" y="'+K.toString()+'" width="'+f+'" height="'+d+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}S&&(k=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+A+'" />');let H="";if(this.options.image!==void 0&&this.options.image.svg){const y=o*this.options.image.width/100,a=u*this.options.image.height/100,l=o/2-y/2,p=u/2-a/2;H+=`<svg x="${l}" y="${p}" width="${y}" height="${a}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,H+=this.options.image.svg+s,H+="</svg>"}var Y="";switch(t.container){case"svg":E&&(Y+='<?xml version="1.0" standalone="yes"?>'+s),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+u+'">'+s,Y+=N+R+k,Y+=H,Y+="</svg>";break;case"svg-viewbox":E&&(Y+='<?xml version="1.0" standalone="yes"?>'+s),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+u+'">'+s,Y+=N+R+k,Y+=H,Y+="</svg>";break;case"g":Y+='<g width="'+o+'" height="'+u+'">'+s,Y+=N+R+k,Y+=H,Y+="</g>";break;default:Y+=(N+R+k+H).replace(/^\s+/,"");break}return Y};var Ay=Ul,Ry=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ds,"__esModule",{value:!0});ds.QRCode=void 0;const Ny=gt,Nu=hi,Ty=Ry(Ay),Oy=t=>{const[e,r]=(0,Nu.useState)("");return(0,Nu.useEffect)(()=>{var n,i;const s=new Ty.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=q.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,Ny.h)("img",{src:e,alt:"QR Code"}):null};ds.QRCode=Oy;var ps={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Ly=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});ps.Spinner=void 0;const wi=gt,Dy=Ly(ha),Py=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,wi.h)("div",{class:"-cbwsdk-spinner"},(0,wi.h)("style",null,Dy.default),(0,wi.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,wi.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};ps.Spinner=Py;var fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var En=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.CoinbaseAppSteps=Lt.CoinbaseWalletSteps=Lt.ConnectItem=Lt.ConnectContent=void 0;const _t=En(us),j=gt,Tu=hi,jy=T,By=cs,Fy=ls,Wy=En(aa),$y=En(ua),ql=hs,Hy=En(ca),zy=En(la),Vy=fs,Uy=ds,qy=ps,Zy=En(fa),Ou={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:$y.default,steps:Ql},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:Wy.default,steps:Gl}},Qy=t=>{switch(t){case"coinbase-app":return Hy.default;case"coinbase-wallet-app":default:return zy.default}},Co=t=>t==="light"?"#FFFFFF":"#0A0B0D";function Gy(t){const{theme:e}=t,[r,n]=(0,Tu.useState)("coinbase-wallet-app"),i=(0,Tu.useCallback)(f=>{n(f)},[]),s=(0,jy.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Ou[r];if(!r)return null;const u=o.steps,h=r==="coinbase-app";return(0,j.h)("div",{"data-testid":"connect-content",class:(0,_t.default)("-cbwsdk-connect-content",e)},(0,j.h)("style",null,Zy.default),(0,j.h)("div",{class:"-cbwsdk-connect-content-header"},(0,j.h)("h2",{class:(0,_t.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,j.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,j.h)(Fy.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,j.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,j.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,j.h)("div",null,Object.entries(Ou).map(([f,d])=>(0,j.h)(Zl,{key:f,title:d.title,description:d.description,icon:d.icon,selected:r===f,onClick:()=>i(f),theme:e}))),h&&(0,j.h)("div",{class:(0,_t.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,j.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,j.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,j.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,j.h)(Uy.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:Qy(r),width:25,height:25}}),(0,j.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:By.LIB_VERSION}),(0,j.h)("input",{type:"hidden",value:s})),(0,j.h)(u,{theme:e}),!t.isConnected&&(0,j.h)("div",{"data-testid":"connecting-spinner",class:(0,_t.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,j.h)(qy.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,j.h)("p",null,"Connecting...")))))}Lt.ConnectContent=Gy;function Zl({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,j.h)("div",{onClick:s,class:(0,_t.default)("-cbwsdk-connect-item",i,{selected:n})},(0,j.h)("div",null,(0,j.h)("img",{src:r,alt:t})),(0,j.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,j.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,j.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}Lt.ConnectItem=Zl;function Ql({theme:t}){return(0,j.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,j.h)("li",{class:(0,_t.default)("-cbwsdk-wallet-steps-item",t)},(0,j.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,j.h)("li",{class:(0,_t.default)("-cbwsdk-wallet-steps-item",t)},(0,j.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,j.h)("span",null,"Tap ",(0,j.h)("strong",null,"Scan")," "),(0,j.h)("span",{class:(0,_t.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,j.h)(ql.QRCodeIcon,{fill:Co(t)})))))}Lt.CoinbaseWalletSteps=Ql;function Gl({theme:t}){return(0,j.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,j.h)("li",{class:(0,_t.default)("-cbwsdk-wallet-steps-item",t)},(0,j.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,j.h)("li",{class:(0,_t.default)("-cbwsdk-wallet-steps-item",t)},(0,j.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,j.h)("span",null,"Tap ",(0,j.h)("strong",null,"More")),(0,j.h)("span",{class:(0,_t.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,j.h)(Vy.StatusDotIcon,{fill:Co(t)})),(0,j.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,j.h)("strong",null,"Scan")),(0,j.h)("span",{class:(0,_t.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,j.h)(ql.QRCodeIcon,{fill:Co(t)})))))}Lt.CoinbaseAppSteps=Gl;var gs={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.ArrowLeftIcon=void 0;const Lu=gt;function Ky(t){return(0,Lu.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Lu.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}vs.ArrowLeftIcon=Ky;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.LaptopIcon=void 0;const Xs=gt;function Yy(t){return(0,Xs.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Xs.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Xs.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}bs.LaptopIcon=Yy;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.SafeIcon=void 0;const Du=gt;function Jy(t){return(0,Du.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Du.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}ms.SafeIcon=Jy;var da={};Object.defineProperty(da,"__esModule",{value:!0});da.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Kl=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gs,"__esModule",{value:!0});gs.TryExtensionContent=void 0;const yr=Kl(us),Ze=gt,eo=hi,Xy=vs,ew=bs,tw=ms,rw=Kl(da);function nw({theme:t}){const[e,r]=(0,eo.useState)(!1),n=(0,eo.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,eo.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Ze.h)("div",{class:(0,yr.default)("-cbwsdk-try-extension",t)},(0,Ze.h)("style",null,rw.default),(0,Ze.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ze.h)("h3",{class:(0,yr.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Ze.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Ze.h)("button",{class:(0,yr.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Ze.h)("div",null,!e&&(0,Ze.h)(Xy.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Ze.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ze.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Ze.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ze.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ze.h)("span",{class:(0,yr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ze.h)(ew.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ze.h)("div",{class:(0,yr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Ze.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ze.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ze.h)("span",{class:(0,yr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ze.h)(tw.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ze.h)("div",{class:(0,yr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}gs.TryExtensionContent=nw;var pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Yl=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(as,"__esModule",{value:!0});as.ConnectDialog=void 0;const to=Yl(us),wr=gt,ro=hi,iw=Lt,sw=gs,ow=Yl(pa),aw=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,ro.useState)(!e),[s,o]=(0,ro.useState)(!e);(0,ro.useEffect)(()=>{const h=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):h.push(window.setTimeout(()=>{i(!0)},360)),()=>{h.forEach(window.clearTimeout)}},[t.isOpen]);const u=r?"dark":"light";return(0,wr.h)("div",{class:(0,to.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,wr.h)("style",null,ow.default),(0,wr.h)("div",{class:(0,to.default)("-cbwsdk-connect-dialog-backdrop",u,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,wr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,wr.h)("div",{class:(0,to.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,wr.h)(iw.ConnectContent,{theme:u,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,wr.h)(sw.TryExtensionContent,{theme:u}))))};as.ConnectDialog=aw;Object.defineProperty(os,"__esModule",{value:!0});os.LinkFlow=void 0;const no=gt,Pu=yn,uw=as;class cw{constructor(e){this.extensionUI$=new Pu.BehaviorSubject({}),this.subscriptions=new Pu.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,no.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,no.render)((0,no.h)(uw.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}os.LinkFlow=cw;var Jl={},ga={};Object.defineProperty(ga,"__esModule",{value:!0});ga.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=G&&G.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(us),n=gt,i=hi,s=e(ga),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function u(S){switch(S){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class h{constructor(b){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=b.darkMode}attach(b){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",b.appendChild(this.root),this.render()}presentItem(b){const E=this.nextItemKey++;return this.items.set(E,b),this.render(),()=>{this.items.delete(E),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([b,E])=>(0,n.h)(t.SnackbarInstance,Object.assign({},E,{key:b}))))),this.root)}}t.Snackbar=h;const f=S=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},S.children));t.SnackbarContainer=f;const d=({autoExpand:S,message:b,menuItems:E,appSrc:x})=>{const[N,R]=(0,i.useState)(!0),[k,A]=(0,i.useState)(S??!1);(0,i.useEffect)(()=>{const L=[window.setTimeout(()=>{R(!1)},1),window.setTimeout(()=>{A(!0)},1e4)];return()=>{L.forEach(window.clearTimeout)}});const I=()=>{A(!k)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",N&&"-cbwsdk-snackbar-instance-hidden",k&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:I},(0,n.h)("img",{src:u(x),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},b),(0,n.h)("div",{class:"-gear-container"},!k&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),E&&E.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},E.map((L,Z)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",L.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:L.onClick,key:Z},(0,n.h)("svg",{width:L.svgWidth,height:L.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":L.defaultFillRule,"clip-rule":L.defaultClipRule,d:L.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",L.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},L.info)))))};t.SnackbarInstance=d})(Jl);var ys={},va={};Object.defineProperty(va,"__esModule",{value:!0});va.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var lw=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});ys.injectCssReset=void 0;const hw=lw(va);function fw(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(hw.default)),document.documentElement.appendChild(t)}ys.injectCssReset=fw;Object.defineProperty(ss,"__esModule",{value:!0});ss.WalletSDKUI=void 0;const dw=os,pw=Jl,gw=ys;class vw{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new pw.Snackbar({darkMode:e.darkMode}),this.linkFlow=new dw.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,gw.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}ss.WalletSDKUI=vw;var ws={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});var Qr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Qr||(Qr={}));function Xl(t,e,r){if(!r||typeof r.value!==Qr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Qr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Qr.boolTrue,writable:Qr.boolTrue}),n}}}_s.bind=Xl;_s.default=Xl;var Ss={},wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.ClientMessagePublishEvent=wt.ClientMessageSetSessionConfig=wt.ClientMessageGetSessionConfig=wt.ClientMessageIsLinked=wt.ClientMessageHostSession=void 0;function bw(t){return Object.assign({type:"HostSession"},t)}wt.ClientMessageHostSession=bw;function mw(t){return Object.assign({type:"IsLinked"},t)}wt.ClientMessageIsLinked=mw;function yw(t){return Object.assign({type:"GetSessionConfig"},t)}wt.ClientMessageGetSessionConfig=yw;function ww(t){return Object.assign({type:"SetSessionConfig"},t)}wt.ClientMessageSetSessionConfig=ww;function _w(t){return Object.assign({type:"PublishEvent"},t)}wt.ClientMessagePublishEvent=_w;var eh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=yn,r=Qi;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,u=WebSocket){this.WebSocketClass=u,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let u;try{this.webSocket=u=new this.WebSocketClass(this.url)}catch(h){o.error(h);return}this.connectionStateSubject.next(n.CONNECTING),u.onclose=h=>{this.clearWebSocket(),o.error(new Error(`websocket error ${h.code}: ${h.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},u.onopen=h=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},u.onmessage=h=>{this.incomingDataSubject.next(h.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let u;try{u=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(u)}))}sendData(o){const{webSocket:u}=this;if(!u)throw new Error("websocket is not connected");u.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(eh);var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.isServerMessageFail=void 0;function Sw(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}Es.isServerMessageFail=Sw;Object.defineProperty(Ss,"__esModule",{value:!0});Ss.WalletSDKConnection=void 0;const Mt=yn,Q=Qi,On=gn,Ur=ri,Ln=wt,Dn=pn,_i=eh,io=Es,ju=1e4,Ew=6e4;class Mw{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Mt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Ur.IntNumber)(1),this.connectedSubject=new Mt.BehaviorSubject(!1),this.linkedSubject=new Mt.BehaviorSubject(!1),this.sessionConfigSubject=new Mt.ReplaySubject(1);const o=new _i.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,Q.tap)(u=>{var h;return(h=this.diagnostic)===null||h===void 0?void 0:h.log(Dn.EVENTS.CONNECTED_STATE_CHANGE,{state:u,sessionIdHash:On.Session.hash(e)})}),(0,Q.skip)(1),(0,Q.filter)(u=>u===_i.ConnectionState.DISCONNECTED&&!this.destroyed),(0,Q.delay)(5e3),(0,Q.filter)(u=>!this.destroyed),(0,Q.flatMap)(u=>o.connect()),(0,Q.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,Q.skip)(2),(0,Q.switchMap)(u=>(0,Mt.iif)(()=>u===_i.ConnectionState.CONNECTED,this.authenticate().pipe((0,Q.tap)(h=>this.sendIsLinked()),(0,Q.tap)(h=>this.sendGetSessionConfig()),(0,Q.map)(h=>!0)),(0,Mt.of)(!1))),(0,Q.distinctUntilChanged)(),(0,Q.catchError)(u=>(0,Mt.of)(!1))).subscribe(u=>this.connectedSubject.next(u))),this.subscriptions.add(o.connectionState$.pipe((0,Q.skip)(1),(0,Q.switchMap)(u=>(0,Mt.iif)(()=>u===_i.ConnectionState.CONNECTED,(0,Mt.timer)(0,ju)))).subscribe(u=>u===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,Q.filter)(u=>u==="h")).subscribe(u=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,Q.filter)(u=>["IsLinkedOK","Linked"].includes(u.type))).subscribe(u=>{var h;const f=u;(h=this.diagnostic)===null||h===void 0||h.log(Dn.EVENTS.LINKED,{sessionIdHash:On.Session.hash(e),linked:f.linked,type:u.type,onlineGuests:f.onlineGuests}),this.linkedSubject.next(f.linked||f.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,Q.filter)(u=>["GetSessionConfigOK","SessionConfigUpdated"].includes(u.type))).subscribe(u=>{var h;const f=u;(h=this.diagnostic)===null||h===void 0||h.log(Dn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:On.Session.hash(e),metadata_keys:f&&f.metadata?Object.keys(f.metadata):void 0}),this.sessionConfigSubject.next({webhookId:f.webhookId,webhookUrl:f.webhookUrl,metadata:f.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Dn.EVENTS.STARTED_CONNECTING,{sessionIdHash:On.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Dn.EVENTS.DISCONNECTED,{sessionIdHash:On.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,Q.filter)(e=>e),(0,Q.take)(1),(0,Q.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,Q.filter)(e=>e),(0,Q.take)(1),(0,Q.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,Q.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,Q.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Ln.ClientMessageSetSessionConfig)({id:(0,Ur.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,Q.flatMap)(i=>this.makeRequest(n)),(0,Q.map)(i=>{if((0,io.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Ln.ClientMessagePublishEvent)({id:(0,Ur.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,Q.flatMap)(s=>this.makeRequest(i)),(0,Q.map)(s=>{if((0,io.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>ju*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=Ew){const n=e.id;try{this.sendData(e)}catch(i){return(0,Mt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,Q.timeoutWith)(r,(0,Mt.throwError)(new Error(`request ${n} timed out`))),(0,Q.filter)(i=>i.id===n),(0,Q.take)(1))}authenticate(){const e=(0,Ln.ClientMessageHostSession)({id:(0,Ur.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,Q.map)(r=>{if((0,io.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Ln.ClientMessageIsLinked)({id:(0,Ur.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Ln.ClientMessageGetSessionConfig)({id:(0,Ur.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Ss.WalletSDKConnection=Mw;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.WalletUIError=void 0;class Kn extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}Ms.WalletUIError=Kn;Kn.UserRejectedRequest=new Kn("User rejected request");Kn.SwitchEthereumChainUnsupportedChainId=new Kn("Unsupported chainId",4902);var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.decrypt=ln.encrypt=void 0;const xw=yn,Wi=T;async function Cw(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Wi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,u=s.slice(s.byteLength-o),h=s.slice(0,s.byteLength-o),f=new Uint8Array(u),d=new Uint8Array(h),S=new Uint8Array([...r,...f,...d]);return(0,Wi.uint8ArrayToHex)(S)}ln.encrypt=Cw;function kw(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new xw.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,Wi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,Wi.hexStringToUint8Array)(t),s=i.slice(0,12),o=i.slice(12,28),u=i.slice(28),h=new Uint8Array([...u,...o]),f={name:"AES-GCM",iv:new Uint8Array(s)};try{const d=await window.crypto.subtle.decrypt(f,n,h),S=new TextDecoder;r.next(S.decode(d)),r.complete()}catch(d){r.error(d)}})()})}ln.decrypt=kw;var ba={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(ba);var xs={},Cs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Cs);Object.defineProperty(xs,"__esModule",{value:!0});xs.Web3RequestCanceledMessage=void 0;const Iw=Cs;function Aw(t){return{type:Iw.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}xs.Web3RequestCanceledMessage=Aw;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.Web3RequestMessage=void 0;const Rw=Cs;function Nw(t){return Object.assign({type:Rw.RelayMessageType.WEB3_REQUEST},t)}ks.Web3RequestMessage=Nw;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.EthereumAddressFromSignedMessageResponse=Ce.SubmitEthereumTransactionResponse=Ce.SignEthereumTransactionResponse=Ce.SignEthereumMessageResponse=Ce.isRequestEthereumAccountsResponse=Ce.SelectProviderResponse=Ce.WatchAssetReponse=Ce.RequestEthereumAccountsResponse=Ce.SwitchEthereumChainResponse=Ce.AddEthereumChainResponse=Ce.ErrorResponse=void 0;const Pt=ba;function Tw(t,e,r){return{method:t,errorMessage:e,errorCode:r}}Ce.ErrorResponse=Tw;function Ow(t){return{method:Pt.Web3Method.addEthereumChain,result:t}}Ce.AddEthereumChainResponse=Ow;function Lw(t){return{method:Pt.Web3Method.switchEthereumChain,result:t}}Ce.SwitchEthereumChainResponse=Lw;function Dw(t){return{method:Pt.Web3Method.requestEthereumAccounts,result:t}}Ce.RequestEthereumAccountsResponse=Dw;function Pw(t){return{method:Pt.Web3Method.watchAsset,result:t}}Ce.WatchAssetReponse=Pw;function jw(t){return{method:Pt.Web3Method.selectProvider,result:t}}Ce.SelectProviderResponse=jw;function Bw(t){return t&&t.method===Pt.Web3Method.requestEthereumAccounts}Ce.isRequestEthereumAccountsResponse=Bw;function Fw(t){return{method:Pt.Web3Method.signEthereumMessage,result:t}}Ce.SignEthereumMessageResponse=Fw;function Ww(t){return{method:Pt.Web3Method.signEthereumTransaction,result:t}}Ce.SignEthereumTransactionResponse=Ww;function $w(t){return{method:Pt.Web3Method.submitEthereumTransaction,result:t}}Ce.SubmitEthereumTransactionResponse=$w;function Hw(t){return{method:Pt.Web3Method.ethereumAddressFromSignedMessage,result:t}}Ce.EthereumAddressFromSignedMessageResponse=Hw;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.isWeb3ResponseMessage=hn.Web3ResponseMessage=void 0;const th=Cs;function zw(t){return Object.assign({type:th.RelayMessageType.WEB3_RESPONSE},t)}hn.Web3ResponseMessage=zw;function Vw(t){return t&&t.type===th.RelayMessageType.WEB3_RESPONSE}hn.isWeb3ResponseMessage=Vw;var Uw=G&&G.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qw=G&&G.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rh=G&&G.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Zw=G&&G.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Uw(e,t,r);return qw(e,t),e},Qw=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ws,"__esModule",{value:!0});ws.WalletSDKRelay=void 0;const nh=Qw(_s),Bu=zi,Pn=yn,Ge=Qi,st=pn,Gw=Ss,so=Ms,Kw=ri,xe=T,Vt=Zw(ln),Ut=gn,Si=kt,Ke=ba,Yw=xs,Jw=ks,ft=Ce,at=hn;class Ct extends Si.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Pn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Pn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Ut.Session.load(this.storage)||new Ut.Session(this.storage).save(),r=new Gw.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(st.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Ge.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Ge.skip)(1),(0,Ge.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Si.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const u=o.split(" "),h=this.storage.getItem("IsStandaloneSigning")==="true";if(u[0]!==""&&!i&&this.session.linked&&!h){this.isUnlinkedErrorState=!0;const f=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(st.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:f})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Ge.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(st.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ge.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Ge.mergeMap)(i=>Vt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Si.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(st.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ge.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Ge.mergeMap)(i=>Vt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Si.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(st.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ge.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Ge.mergeMap)(i=>(0,Pn.zip)(Vt.decrypt(i.metadata.ChainId,e.secret),Vt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Ge.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(st.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ge.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Ge.mergeMap)(i=>Vt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Ct.accountRequestCallbackIds.size>0&&(Array.from(Ct.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,at.Web3ResponseMessage)({id:s,response:(0,ft.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Ct.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(st.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ge.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Ge.mergeMap)(i=>Vt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(st.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Ge.timeout)(1e3),(0,Ge.catchError)(e=>(0,Pn.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(st.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(st.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Ut.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(st.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ut.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:u,ui:h,connection:f}=this.subscribe();this._session=u,this.connection=f,this.ui=h,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(st.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Ke.Web3Method.signEthereumMessage,params:{message:(0,xe.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Ke.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,xe.hexStringFromBuffer)(e,!0),signature:(0,xe.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Ke.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,xe.bigIntStringFromBN)(e.weiValue),data:(0,xe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,xe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,xe.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,xe.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,xe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Ke.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,xe.bigIntStringFromBN)(e.weiValue),data:(0,xe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,xe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,xe.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,xe.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,xe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Ke.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,xe.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Ke.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,xe.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Ke.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,xe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,u)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,h=>{if(r==null||r(),h.errorMessage)return u(new Error(h.errorMessage));o(h)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,Jw.Web3RequestMessage)({id:e,request:r}),s=Ut.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(st.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ut.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var u;(u=this.diagnostic)===null||u===void 0||u.log(st.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ut.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,Yw.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Pn.Observable(s=>{Vt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Ge.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add(Vt.decrypt(e.data,this.session.secret).pipe((0,Ge.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,at.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(st.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(st.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,ft.isRequestEthereumAccountsResponse)(n)){Ct.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Ct.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:e,response:(0,ft.ErrorResponse)(r,(n??so.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Ke.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,xe.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var u;this.relayEventManager.callbacks.set(r,f=>{if(this.ui.hideRequestEthereumAccounts(),f.errorMessage)return o(new Error(f.errorMessage));s(f)});const h=((u=window==null?void 0:window.navigator)===null||u===void 0?void 0:u.userAgent)||null;if(h&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(h)){let f;try{(0,xe.isInIFrame)()&&window.top?f=window.top.location:f=window.location}catch{f=window.location}f.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(f.href)}`;return}if(this.ui.inlineAccountsResponse()){const f=d=>{this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:r,response:(0,ft.RequestEthereumAccountsResponse)(d)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:f})}else{const f=Bu.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(f)})}Ct.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Ke.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,xe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,u)=>{this.relayEventManager.callbacks.set(n,d=>{if(d.errorMessage)return u(new Error(d.errorMessage));o(d)});const h=d=>{this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:n,response:(0,ft.SelectProviderResponse)(Kw.ProviderType.Unselected)}))},f=d=>{this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:n,response:(0,ft.SelectProviderResponse)(d)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:f,onCancel:h,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const u={method:Ke.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let h=null;const f=(0,xe.randomBytesHex)(8),d=b=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,u.method,b),h==null||h()};this.ui.inlineWatchAsset()||(h=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}));const S=new Promise((b,E)=>{this.relayEventManager.callbacks.set(f,R=>{if(h==null||h(),R.errorMessage)return E(new Error(R.errorMessage));b(R)});const x=R=>{this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:f,response:(0,ft.WatchAssetReponse)(!1)}))},N=()=>{this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:f,response:(0,ft.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:N,onCancel:x,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(f,u)});return{cancel:d,promise:S}}addEthereumChain(e,r,n,i,s,o){const u={method:Ke.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let h=null;const f=(0,xe.randomBytesHex)(8),d=b=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,u.method,b),h==null||h()};return this.ui.inlineAddEthereumChain(e)||(h=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload})),{promise:new Promise((b,E)=>{this.relayEventManager.callbacks.set(f,R=>{if(h==null||h(),R.errorMessage)return E(new Error(R.errorMessage));b(R)});const x=R=>{this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:f,response:(0,ft.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},N=R=>{this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:f,response:(0,ft.AddEthereumChainResponse)({isApproved:!0,rpcUrl:R})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:x,onApprove:N,chainId:u.params.chainId,rpcUrls:u.params.rpcUrls,blockExplorerUrls:u.params.blockExplorerUrls,chainName:u.params.chainName,iconUrls:u.params.iconUrls,nativeCurrency:u.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(f,u)}),cancel:d}}switchEthereumChain(e,r){const n={method:Ke.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,xe.randomBytesHex)(8),s=u=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,u)};return{promise:new Promise((u,h)=>{this.relayEventManager.callbacks.set(i,S=>{if(S.errorMessage&&S.errorCode)return h(Bu.ethErrors.provider.custom({code:S.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(S.errorMessage)return h(new Error(S.errorMessage));u(S)});const f=S=>{if(typeof S=="number"){const b=S;this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:i,response:(0,ft.ErrorResponse)(Ke.Web3Method.switchEthereumChain,so.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,b)}))}else S instanceof so.WalletUIError?this.handleErrorResponse(i,Ke.Web3Method.switchEthereumChain,S,S.errorCode):this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:i,response:(0,ft.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},d=S=>{this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:i,response:(0,ft.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:S})}))};this.ui.switchEthereumChain({onCancel:f,onApprove:d,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Ut.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,at.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Ke.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Ke.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ke.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ke.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Ct.accountRequestCallbackIds=new Set;rh([nh.default],Ct.prototype,"resetAndReload",null);rh([nh.default],Ct.prototype,"handleIncomingEvent",null);ws.WalletSDKRelay=Ct;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.WalletSDKRelayEventManager=void 0;const Xw=T;class e_{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,Xw.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Is.WalletSDKRelayEventManager=e_;const t_="@coinbase/wallet-sdk",r_="3.6.3",n_="Coinbase Wallet JavaScript SDK",i_=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],s_="dist/index.js",o_="dist/index.d.ts",a_="https://github.com/coinbase/coinbase-wallet-sdk.git",u_="Coinbase, Inc.",c_="Apache-2.0",l_={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},h_={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},f_={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},d_={node:">= 10.0.0"},p_={name:t_,version:r_,description:n_,keywords:i_,main:s_,types:o_,repository:a_,author:u_,license:c_,scripts:l_,dependencies:h_,devDependencies:f_,engines:d_};Object.defineProperty(Un,"__esModule",{value:!0});Un.CoinbaseWalletSDK=void 0;const g_=$i,v_=Hi,b_=Jr,m_=ss,y_=ws,w_=Is,__=T,S_={}.LINK_API_URL||"https://www.walletlink.org",ih={}.SDK_VERSION||p_.version||"unknown";class As{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||S_;let o;if(e.uiConstructor?o=e.uiConstructor:o=f=>new m_.WalletSDKUI(f),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const u=new URL(s),h=`${u.protocol}//${u.host}`;this._storage=new v_.ScopedLocalStorage(`-walletlink:${h}`),this._storage.setItem("version",As.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new w_.WalletSDKRelayEventManager,this._relay=new y_.WalletSDKRelay({linkAPIUrl:s,version:ih,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new b_.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,__.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,g_.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Un.CoinbaseWalletSDK=As;As.VERSION=ih;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Un,r=Jr;var n=Un;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Jr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Io);const E_=lh(Io),P_=hh({__proto__:null,default:E_},[Io]);export{P_ as i};
//# sourceMappingURL=index-2c280eaf.js.map
